(function(){var l,o,q,p,r,k,f,s,g,a=Object.prototype.hasOwnProperty;o=typeof exports!=="undefined"&&exports!==null?exports:this;o=o.CoffeePot=typeof o.CoffeePot!=="undefined"&&o.CoffeePot!==null?o.CoffeePot:{};l=["true","false","yes","no","on","off"];p=["if","else","then","unless","and","or","is","isnt","not","new","return","try","catch","finally","throw","break","continue","for","in","of","by","where","while","switch","when","super","extends","arguments","var","delete","instanceof","typeof"];q=["COMMENT",
"ID","PROPERTY","OPERATOR","NUMBER","BOOLEAN","RAW","HEREDOC","STRING","REGEX"];r={CODE:/^([\(\)\[\]\{\}:=;,.])/,NEWLINE:/^([ \t]*\n)/,WS:/^([ \t]+)/,COMMENT:/^(#.*)\n?/,ID:/^([a-z_$][a-z0-9_$]*)/i,ARROW:/^(->)/,OPERATOR:/^([+\*&|\/\-%=<>!?]+)/,DOTDOTDOT:/^(\.\.\.)/,DOTDOT:/^(\.\.)/,NUMBER:function c(b){var e;if(!b[0].match(/[0-9.-]/))return null;b=!isNaN(e=parseInt(b)||parseFloat(b))?{"1":e+""}:null;return c===this.constructor?this:b},JS:function c(b){var e,h,d;if(b[0]!=="`")return null;d=1;h=b.length+
1;for(e=false;!e&&d<h;){b[d]==="`"&&(e=true);b[d]==="\\"&&d++;d++}b=d>=h?null:{"1":b.substr(0,d)};return c===this.constructor?this:b},HEREDOC:function c(b){var e,h,d,i;if(!(i=b.match(/^("""|''')\n/)))return null;i=i[1];d=3;h=b.length+1;for(e=false;!e&&d<h;){if(b.substr(d,3)===i){e=true;d+=2}d++}b=d>=h?null:{"1":b.substr(0,d)};return c===this.constructor?this:b},STRING:function c(b){var e,h,d,i;i=b[0];if(!(i==='"'||i==="'"))return null;d=1;h=b.length+1;for(e=false;!e&&d<h;){b[d]===i&&(e=true);b[d]===
"\\"&&d++;d++}b=d>=h?null:{"1":b.substr(0,d)};return c===this.constructor?this:b},REGEX:function c(b){var e,h,d;if(b[0]!=="/")return null;d=1;h=b.length+1;for(e=false;!e&&d<h;)try{eval(b.substr(0,d));e=true}catch(i){d++}b=d>=h?null:{"1":b.substr(0,d)};return c===this.constructor?this:b}};g=[];f=function(c){var b,e,h,d;d=null;for(h in r){e=r[h];if(a.call(r,h))(b=e(c))&&(d===null||b[1].length>d[1].length)&&(d=[h,b[1]])}if(d)return d;else{debug(inspect(g));throw new Error("Unknown Token: "+JSON.stringify(c.split("\n")[0]));
}};s=function(c){return Helper.block_trim(c.substr(4,c.length-7))};k=function(c,b){var e,h,d,i,m,j,n;i=[];m=[""];h=-1;for(e=0;e<c.length;e++){j=c[e];d=c[h];h++;if(d&&d[0]==="NEWLINE"){if(j[0]==="NEWLINE")continue;n=m[m.length-1];for(d=j[0]==="WS"?j[2]:"";d.length<n.length;){if(d!==n.substr(0,d.length))throw new Error("Indentation mismatch");i.push(["DEDENT",j[1],n]);i.push(["NEWLINE",j[1]]);m.pop();n=m[m.length-1]}if(d.length>n.length){if(n!==d.substr(0,n.length))throw new Error("Indentation mismatch");
i.pop();i.push(["INDENT",j[1],d]);m.push(d)}if(d.length===n.length&&d!==n)throw new Error("Indentation mismatch");}if(j[0]==="ID")if(p.indexOf(j[2])>=0)j[0]=j[2];else if((d=l.indexOf(j[2]))>=0){j[0]="BOOLEAN";j[2]=d%2===0}j[0]==="STRING"&&(j[2]=function(){try{return JSON.parse(j[2].replace(/\n/g,"\\n"))}catch(t){return j[2]}}.call(this));if(j[0]==="HEREDOC"){j[2]=s(j[2]);j[0]="STRING"}j[0]==="COMMENT"&&(j[2]=j[2].substr(1,j[2].length));j[0]==="CODE"&&(j[0]=j[2]);q.indexOf(j[0])<0&&(j.length=2);j[0]!==
"WS"&&i.push(j)}for(;m.length>1;){e=[c.length,b.split("\n").length];i.push(["DEDENT",e,m.pop()]);i.push(["NEWLINE",e])}return i};o.tokenize=function(c){var b,e,h,d,i;c+="\n";e=c.length;d=0;for(g=[];d<e;){b=f(c.substr(d,e));i=b[0];h=b[1];b=c.substr(0,d).replace(/[^\n]/g,"").length;g.push([i,[d,b],h]);d+=h.length}return k(g,c)}})();
(function(){var l=function(){var r={log:function(){this.DEBUG&&puts(JSON.stringify(Array.prototype.slice.call(arguments)))},yy:{},symbols_:{Root:2,Block:3,Statement:4,NEWLINE:5,Expression:6,"if":7,unless:8,COMMENT:9,Literal:10,Source:11,Assign:12,Function:13,Binop:14,Array:15,Object:16,Call:17,Id:18,CallArgs:19,".":20,"(":21,")":22,Expressionlist:23,ExpressionList:24,",":25,Operator:26,"[":27,ArrayItems:28,"]":29,INDENT:30,DEDENT:31,"{":32,ObjectItems:33,"}":34,ObjectItem:35,":":36,String:37,OPERATOR:38,
NUMBER:39,BOOLEAN:40,REGEX:41,STRING:42,"=":43,Property:44,FunctionBody:45,ARROW:46,VarList:47,VarListItem:48,Splat:49,DOTDOTDOT:50,ID:51,$accept:0,$end:1},terminals_:{"5":"NEWLINE","7":"if","8":"unless","9":"COMMENT","20":".","21":"(","22":")","23":"Expressionlist","25":",","27":"[","29":"]","30":"INDENT","31":"DEDENT","32":"{","34":"}","36":":","37":"String","38":"OPERATOR","39":"NUMBER","40":"BOOLEAN","41":"REGEX","42":"STRING","43":"=","46":"ARROW","50":"DOTDOTDOT","51":"ID"},productions_:[0,
[2,1],[2,0],[3,2],[3,3],[4,3],[4,3],[4,1],[4,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[17,2],[17,4],[19,2],[19,3],[19,1],[24,1],[24,3],[14,3],[15,3],[15,7],[28,1],[28,3],[28,3],[16,3],[16,7],[35,3],[35,3],[33,1],[33,3],[33,3],[26,1],[10,1],[10,1],[10,1],[10,1],[12,3],[12,3],[44,3],[11,1],[11,3],[11,4],[45,1],[45,3],[45,0],[13,2],[13,5],[48,1],[48,1],[47,1],[47,3],[49,2],[18,1]],performAction:function(k,f,s,g,a){f=a.length;switch(g){case 1:return this.$=["Root",["Block",a[f-1+1-1]]];case 2:return this.$=
false;case 3:this.$=[a[f-2+1-1]];break;case 4:this.$=a[f-3+1-1].concat([a[f-3+2-1]]);break;case 5:this.$=["If",a[f-3+3-1],a[f-3+1-1]];break;case 6:this.$=["If",["Not",a[f-3+3-1]],a[f-3+1-1]];break;case 7:this.$=a[f-1+1-1];break;case 8:this.$=["COMMENT",k];break;case 9:this.$=a[f-1+1-1];break;case 10:this.$=a[f-1+1-1];break;case 11:this.$=a[f-1+1-1];break;case 12:this.$=a[f-1+1-1];break;case 13:this.$=a[f-1+1-1];break;case 14:this.$=a[f-1+1-1];break;case 15:this.$=a[f-1+1-1];break;case 16:this.$=a[f-
1+1-1];break;case 17:this.$=["Call",null,a[f-2+1-1],a[f-2+2-1]];break;case 18:this.$=["Call",a[f-4+1-1],a[f-4+3-1],a[f-4+4-1]];break;case 19:this.$=[];break;case 20:this.$=a[f-3+2-1];break;case 21:this.$=a[f-1+1-1];break;case 22:this.$=[a[f-1+1-1]];break;case 23:this.$=a[f-3+1-1].concat([a[f-3+3-1]]);break;case 24:this.$=["Binop",a[f-3+2-1],a[f-3+1-1],a[f-3+3-1]];break;case 25:this.$=["Array",a[f-3+2-1]];break;case 26:this.$=["Array",a[f-7+3-1]];break;case 27:this.$=[a[f-1+1-1]];break;case 28:this.$=
a[f-3+1-1].concat([a[f-3+3-1]]);break;case 29:this.$=a[f-3+1-1].concat([a[f-3+3-1]]);break;case 30:this.$=["Object",a[f-3+2-1]];break;case 31:this.$=["Object",a[f-7+3-1]];break;case 32:this.$=[a[f-3+1-1],a[f-3+3-1]];break;case 33:this.$=[a[f-3+1-1],a[f-3+3-1]];break;case 34:this.$=[a[f-1+1-1]];break;case 35:this.$=a[f-3+1-1].concat([a[f-3+3-1]]);break;case 36:this.$=a[f-3+1-1].concat([a[f-3+3-1]]);break;case 37:this.$=k;break;case 38:this.$=["NUMBER",k];break;case 39:this.$=["BOOLEAN",k];break;case 40:this.$=
["REGEX",k];break;case 41:this.$=["STRING",k];break;case 42:this.$=["Assign",a[f-3+1-1],a[f-3+3-1]];break;case 43:this.$=["Assign",a[f-3+1-1],a[f-3+3-1]];break;case 44:this.$=["Property",[]];break;case 45:this.$=a[f-1+1-1];break;case 46:this.$=["Property",a[f-3+1-1],a[f-3+3-1]];break;case 47:this.$=["Property",a[f-4+1-1],3];break;case 48:this.$=a[f-1+1-1];break;case 49:this.$=["Block",a[f-3+2-1]];break;case 50:this.$=false;break;case 51:this.$=["Function",[],a[f-2+2-1]];break;case 52:this.$=["Function",
a[f-5+2-1],a[f-5+5-1]];break;case 53:this.$=a[f-1+1-1];break;case 54:this.$=a[f-1+1-1];break;case 55:this.$=[a[f-1+1-1]];break;case 56:this.$=a[f-3+1-1].concat([a[f-3+3-1]]);break;case 57:this.$=["Splat",a[f-2+1-1][1]];break;case 58:this.$=["ID",k];break}},table:[{"1":[[2,2]],"2":1,"3":2,"4":3,"6":4,"9":[[1,5]],"10":6,"11":7,"12":8,"13":9,"14":10,"15":11,"16":12,"17":13,"18":18,"21":[[1,20]],"27":[[1,21]],"32":[[1,22]],"39":[[1,14]],"40":[[1,15]],"41":[[1,16]],"42":[[1,17]],"46":[[1,19]],"51":[[1,
23]]},{"1":[[3]]},{"1":[[2,1]],"4":24,"6":4,"9":[[1,5]],"10":6,"11":7,"12":8,"13":9,"14":10,"15":11,"16":12,"17":13,"18":18,"21":[[1,20]],"27":[[1,21]],"32":[[1,22]],"39":[[1,14]],"40":[[1,15]],"41":[[1,16]],"42":[[1,17]],"46":[[1,19]],"51":[[1,23]]},{"5":[[1,25]]},{"5":[[2,7]],"7":[[1,26]],"8":[[1,27]],"20":[[1,29]],"26":28,"38":[[1,30]]},{"5":[[2,8]]},{"5":[[2,9]],"7":[[2,9]],"8":[[2,9]],"20":[[2,9]],"25":[[2,9]],"29":[[2,9]],"34":[[2,9]],"38":[[2,9]]},{"5":[[2,10]],"7":[[2,10]],"8":[[2,10]],"20":[[1,
31]],"25":[[2,10]],"27":[[1,32]],"29":[[2,10]],"34":[[2,10]],"36":[[1,33]],"38":[[2,10]],"43":[[1,34]]},{"5":[[2,11]],"7":[[2,11]],"8":[[2,11]],"20":[[2,11]],"25":[[2,11]],"29":[[2,11]],"34":[[2,11]],"38":[[2,11]]},{"5":[[2,12]],"7":[[2,12]],"8":[[2,12]],"20":[[2,12]],"25":[[2,12]],"29":[[2,12]],"34":[[2,12]],"38":[[2,12]]},{"5":[[2,13]],"7":[[2,13]],"8":[[2,13]],"20":[[2,13]],"25":[[2,13]],"29":[[2,13]],"34":[[2,13]],"38":[[2,13]]},{"5":[[2,14]],"7":[[2,14]],"8":[[2,14]],"20":[[2,14]],"25":[[2,14]],
"29":[[2,14]],"34":[[2,14]],"38":[[2,14]]},{"5":[[2,15]],"7":[[2,15]],"8":[[2,15]],"20":[[2,15]],"25":[[2,15]],"29":[[2,15]],"34":[[2,15]],"38":[[2,15]]},{"5":[[2,16]],"7":[[2,16]],"8":[[2,16]],"20":[[2,16]],"25":[[2,16]],"29":[[2,16]],"34":[[2,16]],"38":[[2,16]]},{"5":[[2,38]],"7":[[2,38]],"8":[[2,38]],"20":[[2,38]],"25":[[2,38]],"29":[[2,38]],"34":[[2,38]],"38":[[2,38]]},{"5":[[2,39]],"7":[[2,39]],"8":[[2,39]],"20":[[2,39]],"25":[[2,39]],"29":[[2,39]],"34":[[2,39]],"38":[[2,39]]},{"5":[[2,40]],
"7":[[2,40]],"8":[[2,40]],"20":[[2,40]],"25":[[2,40]],"29":[[2,40]],"34":[[2,40]],"38":[[2,40]]},{"5":[[2,41]],"7":[[2,41]],"8":[[2,41]],"20":[[2,41]],"25":[[2,41]],"29":[[2,41]],"34":[[2,41]],"38":[[2,41]]},{"5":[[2,45]],"7":[[2,45]],"8":[[2,45]],"19":35,"20":[[2,45]],"21":[[1,36]],"23":[[1,37]],"25":[[2,45]],"27":[[2,45]],"29":[[2,45]],"34":[[2,45]],"36":[[2,45]],"38":[[2,45]],"43":[[2,45]]},{"5":[[2,50]],"6":39,"7":[[2,50]],"8":[[2,50]],"10":6,"11":7,"12":8,"13":9,"14":10,"15":11,"16":12,"17":13,
"18":18,"20":[[2,50]],"21":[[1,20]],"25":[[2,50]],"27":[[1,21]],"29":[[2,50]],"30":[[1,40]],"32":[[1,22]],"34":[[2,50]],"38":[[2,50]],"39":[[1,14]],"40":[[1,15]],"41":[[1,16]],"42":[[1,17]],"45":38,"46":[[1,19]],"51":[[1,23]]},{"18":43,"47":41,"48":42,"49":44,"51":[[1,23]]},{"6":47,"10":6,"11":7,"12":8,"13":9,"14":10,"15":11,"16":12,"17":13,"18":18,"21":[[1,20]],"27":[[1,21]],"28":45,"30":[[1,46]],"32":[[1,22]],"39":[[1,14]],"40":[[1,15]],"41":[[1,16]],"42":[[1,17]],"46":[[1,19]],"51":[[1,23]]},{"18":51,
"30":[[1,49]],"33":48,"35":50,"37":[[1,52]],"51":[[1,23]]},{"5":[[2,58]],"7":[[2,58]],"8":[[2,58]],"20":[[2,58]],"21":[[2,58]],"22":[[2,58]],"23":[[2,58]],"25":[[2,58]],"27":[[2,58]],"29":[[2,58]],"34":[[2,58]],"36":[[2,58]],"38":[[2,58]],"43":[[2,58]],"50":[[2,58]]},{"5":[[1,53]]},{"1":[[2,3]],"9":[[2,3]],"21":[[2,3]],"27":[[2,3]],"31":[[2,3]],"32":[[2,3]],"39":[[2,3]],"40":[[2,3]],"41":[[2,3]],"42":[[2,3]],"46":[[2,3]],"51":[[2,3]]},{"6":54,"10":6,"11":7,"12":8,"13":9,"14":10,"15":11,"16":12,"17":13,
"18":18,"21":[[1,20]],"27":[[1,21]],"32":[[1,22]],"39":[[1,14]],"40":[[1,15]],"41":[[1,16]],"42":[[1,17]],"46":[[1,19]],"51":[[1,23]]},{"6":55,"10":6,"11":7,"12":8,"13":9,"14":10,"15":11,"16":12,"17":13,"18":18,"21":[[1,20]],"27":[[1,21]],"32":[[1,22]],"39":[[1,14]],"40":[[1,15]],"41":[[1,16]],"42":[[1,17]],"46":[[1,19]],"51":[[1,23]]},{"6":56,"10":6,"11":7,"12":8,"13":9,"14":10,"15":11,"16":12,"17":13,"18":18,"21":[[1,20]],"27":[[1,21]],"32":[[1,22]],"39":[[1,14]],"40":[[1,15]],"41":[[1,16]],"42":[[1,
17]],"46":[[1,19]],"51":[[1,23]]},{"18":57,"51":[[1,23]]},{"21":[[2,37]],"27":[[2,37]],"32":[[2,37]],"39":[[2,37]],"40":[[2,37]],"41":[[2,37]],"42":[[2,37]],"46":[[2,37]],"51":[[2,37]]},{"18":58,"51":[[1,23]]},{"6":59,"10":6,"11":7,"12":8,"13":9,"14":10,"15":11,"16":12,"17":13,"18":18,"21":[[1,20]],"27":[[1,21]],"32":[[1,22]],"39":[[1,14]],"40":[[1,15]],"41":[[1,16]],"42":[[1,17]],"46":[[1,19]],"51":[[1,23]]},{"6":60,"10":6,"11":7,"12":8,"13":9,"14":10,"15":11,"16":12,"17":13,"18":18,"21":[[1,20]],
"27":[[1,21]],"32":[[1,22]],"39":[[1,14]],"40":[[1,15]],"41":[[1,16]],"42":[[1,17]],"46":[[1,19]],"51":[[1,23]]},{"6":61,"10":6,"11":7,"12":8,"13":9,"14":10,"15":11,"16":12,"17":13,"18":18,"21":[[1,20]],"27":[[1,21]],"32":[[1,22]],"39":[[1,14]],"40":[[1,15]],"41":[[1,16]],"42":[[1,17]],"46":[[1,19]],"51":[[1,23]]},{"5":[[2,17]],"7":[[2,17]],"8":[[2,17]],"20":[[2,17]],"25":[[2,17]],"29":[[2,17]],"34":[[2,17]],"38":[[2,17]]},{"22":[[1,62]],"23":[[1,63]]},{"5":[[2,21]],"7":[[2,21]],"8":[[2,21]],"20":[[2,
21]],"25":[[2,21]],"29":[[2,21]],"34":[[2,21]],"38":[[2,21]]},{"5":[[2,51]],"7":[[2,51]],"8":[[2,51]],"20":[[2,51]],"25":[[2,51]],"29":[[2,51]],"34":[[2,51]],"38":[[2,51]]},{"5":[[2,48]],"7":[[2,48]],"8":[[2,48]],"20":[[1,29]],"25":[[2,48]],"26":28,"29":[[2,48]],"34":[[2,48]],"38":[[1,30]]},{"3":64,"4":3,"6":4,"9":[[1,5]],"10":6,"11":7,"12":8,"13":9,"14":10,"15":11,"16":12,"17":13,"18":18,"21":[[1,20]],"27":[[1,21]],"32":[[1,22]],"39":[[1,14]],"40":[[1,15]],"41":[[1,16]],"42":[[1,17]],"46":[[1,19]],
"51":[[1,23]]},{"22":[[1,65]],"25":[[1,66]]},{"22":[[2,55]],"25":[[2,55]]},{"22":[[2,53]],"25":[[2,53]],"50":[[1,67]]},{"22":[[2,54]],"25":[[2,54]]},{"5":[[1,70]],"25":[[1,69]],"29":[[1,68]]},{"6":47,"10":6,"11":7,"12":8,"13":9,"14":10,"15":11,"16":12,"17":13,"18":18,"21":[[1,20]],"27":[[1,21]],"28":71,"32":[[1,22]],"39":[[1,14]],"40":[[1,15]],"41":[[1,16]],"42":[[1,17]],"46":[[1,19]],"51":[[1,23]]},{"5":[[2,27]],"20":[[1,29]],"25":[[2,27]],"26":28,"29":[[2,27]],"38":[[1,30]]},{"5":[[1,74]],"25":[[1,
73]],"34":[[1,72]]},{"18":51,"33":75,"35":50,"37":[[1,52]],"51":[[1,23]]},{"5":[[2,34]],"25":[[2,34]],"34":[[2,34]]},{"36":[[1,76]]},{"36":[[1,77]]},{"1":[[2,4]],"9":[[2,4]],"21":[[2,4]],"27":[[2,4]],"31":[[2,4]],"32":[[2,4]],"39":[[2,4]],"40":[[2,4]],"41":[[2,4]],"42":[[2,4]],"46":[[2,4]],"51":[[2,4]]},{"5":[[2,5]],"20":[[1,29]],"26":28,"38":[[1,30]]},{"5":[[2,6]],"20":[[1,29]],"26":28,"38":[[1,30]]},{"5":[[2,24]],"7":[[2,24]],"8":[[2,24]],"20":[[1,29]],"25":[[2,24]],"26":28,"29":[[2,24]],"34":[[2,
24]],"38":[[1,30]]},{"19":78,"21":[[1,36]],"23":[[1,37]]},{"5":[[2,46]],"7":[[2,46]],"8":[[2,46]],"20":[[2,46]],"25":[[2,46]],"27":[[2,46]],"29":[[2,46]],"34":[[2,46]],"36":[[2,46]],"38":[[2,46]],"43":[[2,46]]},{"20":[[1,29]],"26":28,"29":[[1,79]],"38":[[1,30]]},{"5":[[2,42]],"7":[[2,42]],"8":[[2,42]],"20":[[1,29]],"25":[[2,42]],"26":28,"29":[[2,42]],"34":[[2,42]],"38":[[1,30]]},{"5":[[2,43]],"7":[[2,43]],"8":[[2,43]],"20":[[1,29]],"25":[[2,43]],"26":28,"29":[[2,43]],"34":[[2,43]],"38":[[1,30]]},
{"5":[[2,19]],"7":[[2,19]],"8":[[2,19]],"20":[[2,19]],"25":[[2,19]],"29":[[2,19]],"34":[[2,19]],"38":[[2,19]]},{"22":[[1,80]]},{"4":24,"6":4,"9":[[1,5]],"10":6,"11":7,"12":8,"13":9,"14":10,"15":11,"16":12,"17":13,"18":18,"21":[[1,20]],"27":[[1,21]],"31":[[1,81]],"32":[[1,22]],"39":[[1,14]],"40":[[1,15]],"41":[[1,16]],"42":[[1,17]],"46":[[1,19]],"51":[[1,23]]},{"46":[[1,82]]},{"18":43,"48":83,"49":44,"51":[[1,23]]},{"22":[[2,57]],"25":[[2,57]]},{"5":[[2,25]],"7":[[2,25]],"8":[[2,25]],"20":[[2,25]],
"25":[[2,25]],"29":[[2,25]],"34":[[2,25]],"38":[[2,25]]},{"6":84,"10":6,"11":7,"12":8,"13":9,"14":10,"15":11,"16":12,"17":13,"18":18,"21":[[1,20]],"27":[[1,21]],"32":[[1,22]],"39":[[1,14]],"40":[[1,15]],"41":[[1,16]],"42":[[1,17]],"46":[[1,19]],"51":[[1,23]]},{"6":85,"10":6,"11":7,"12":8,"13":9,"14":10,"15":11,"16":12,"17":13,"18":18,"21":[[1,20]],"27":[[1,21]],"32":[[1,22]],"39":[[1,14]],"40":[[1,15]],"41":[[1,16]],"42":[[1,17]],"46":[[1,19]],"51":[[1,23]]},{"5":[[1,86]],"25":[[1,69]]},{"5":[[2,
30]],"7":[[2,30]],"8":[[2,30]],"20":[[2,30]],"25":[[2,30]],"29":[[2,30]],"34":[[2,30]],"38":[[2,30]]},{"18":51,"35":87,"37":[[1,52]],"51":[[1,23]]},{"18":51,"35":88,"37":[[1,52]],"51":[[1,23]]},{"5":[[1,89]],"25":[[1,73]]},{"6":90,"10":6,"11":7,"12":8,"13":9,"14":10,"15":11,"16":12,"17":13,"18":18,"21":[[1,20]],"27":[[1,21]],"32":[[1,22]],"39":[[1,14]],"40":[[1,15]],"41":[[1,16]],"42":[[1,17]],"46":[[1,19]],"51":[[1,23]]},{"6":91,"10":6,"11":7,"12":8,"13":9,"14":10,"15":11,"16":12,"17":13,"18":18,
"21":[[1,20]],"27":[[1,21]],"32":[[1,22]],"39":[[1,14]],"40":[[1,15]],"41":[[1,16]],"42":[[1,17]],"46":[[1,19]],"51":[[1,23]]},{"5":[[2,18]],"7":[[2,18]],"8":[[2,18]],"20":[[2,18]],"25":[[2,18]],"29":[[2,18]],"34":[[2,18]],"38":[[2,18]]},{"5":[[2,47]],"7":[[2,47]],"8":[[2,47]],"20":[[2,47]],"25":[[2,47]],"27":[[2,47]],"29":[[2,47]],"34":[[2,47]],"36":[[2,47]],"38":[[2,47]],"43":[[2,47]]},{"5":[[2,20]],"7":[[2,20]],"8":[[2,20]],"20":[[2,20]],"25":[[2,20]],"29":[[2,20]],"34":[[2,20]],"38":[[2,20]]},
{"5":[[2,49]],"7":[[2,49]],"8":[[2,49]],"20":[[2,49]],"25":[[2,49]],"29":[[2,49]],"34":[[2,49]],"38":[[2,49]]},{"5":[[2,50]],"6":39,"7":[[2,50]],"8":[[2,50]],"10":6,"11":7,"12":8,"13":9,"14":10,"15":11,"16":12,"17":13,"18":18,"20":[[2,50]],"21":[[1,20]],"25":[[2,50]],"27":[[1,21]],"29":[[2,50]],"30":[[1,40]],"32":[[1,22]],"34":[[2,50]],"38":[[2,50]],"39":[[1,14]],"40":[[1,15]],"41":[[1,16]],"42":[[1,17]],"45":92,"46":[[1,19]],"51":[[1,23]]},{"22":[[2,56]],"25":[[2,56]]},{"5":[[2,28]],"20":[[1,29]],
"25":[[2,28]],"26":28,"29":[[2,28]],"38":[[1,30]]},{"5":[[2,29]],"20":[[1,29]],"25":[[2,29]],"26":28,"29":[[2,29]],"38":[[1,30]]},{"6":85,"10":6,"11":7,"12":8,"13":9,"14":10,"15":11,"16":12,"17":13,"18":18,"21":[[1,20]],"27":[[1,21]],"31":[[1,93]],"32":[[1,22]],"39":[[1,14]],"40":[[1,15]],"41":[[1,16]],"42":[[1,17]],"46":[[1,19]],"51":[[1,23]]},{"5":[[2,35]],"25":[[2,35]],"34":[[2,35]]},{"5":[[2,36]],"25":[[2,36]],"34":[[2,36]]},{"18":51,"31":[[1,94]],"35":88,"37":[[1,52]],"51":[[1,23]]},{"5":[[2,
32]],"20":[[1,29]],"25":[[2,32]],"26":28,"34":[[2,32]],"38":[[1,30]]},{"5":[[2,33]],"20":[[1,29]],"25":[[2,33]],"26":28,"34":[[2,33]],"38":[[1,30]]},{"5":[[2,52]],"7":[[2,52]],"8":[[2,52]],"20":[[2,52]],"25":[[2,52]],"29":[[2,52]],"34":[[2,52]],"38":[[2,52]]},{"5":[[1,95]]},{"5":[[1,96]]},{"29":[[1,97]]},{"34":[[1,98]]},{"5":[[2,26]],"7":[[2,26]],"8":[[2,26]],"20":[[2,26]],"25":[[2,26]],"29":[[2,26]],"34":[[2,26]],"38":[[2,26]]},{"5":[[2,31]],"7":[[2,31]],"8":[[2,31]],"20":[[2,31]],"25":[[2,31]],
"29":[[2,31]],"34":[[2,31]],"38":[[2,31]]}],parseError:function(k){throw new Error(k);},parse:function(k){function f(){var u;return(u=s.lexer.lex())?s.symbols_[u]:1}var s=this,g=[0],a=[null],c=this.table,b="",e=0;this.lexer.setInput(k);this.lexer.yy=this.yy;k=this.yy.parseError=this.yy.parseError||this.parseError;var h,d,i,m={},j,n,t=0;for(h=f();;){this.log("stack:",JSON.stringify(g),"\n\t\t\tinput:",this.lexer._input);this.log("vstack:",JSON.stringify(a));d=g[g.length-1];i=c[d]&&c[d][h];if(typeof i==
"undefined"||!i.length||!i[0]){n=[];for(j in c[d])this.terminals_[j]&&j!=1&&n.push("'"+this.terminals_[j]+"'");s.log("stack:",JSON.stringify(g),"symbol:",h,"input",this.lexer.upcomingInput());k("Parse error on line "+(e+1)+". Expecting: "+n.join(", ")+"\n"+this.lexer.showPosition(),{text:this.lexer.match,token:h,line:this.lexer.yylineno})}this.log("action:",i);if(i.length>1)throw new Error("Parse Error: multiple actions possible at state: "+d+", token: "+h);d=i[0];switch(d[0]){case 1:g.push(h);++t;
b=this.lexer.yytext;e=this.lexer.yylineno;h=f();a.push(null);g.push(d[1]);break;case 2:n=this.productions_[d[1]][1];this.log("reduce by: ",this.productions?this.productions[d[1]]:d[1]);m.$=a[a.length-n];i=this.performAction.call(m,b,e,this.yy,d[1],a);if(i!=undefined)return i;this.log("yyval=",JSON.stringify(m.$));if(n){this.log("production length:",n);g=g.slice(0,-1*n*2);a=a.slice(0,-1*n)}g.push(this.productions_[d[1]][0]);a.push(m.$);d=c[g[g.length-2]][g[g.length-1]];g.push(d);break;case 3:this.log("stack:",
g,"\n\tinput:",this.lexer._input);this.log("vstack:",JSON.stringify(a));return true}}return true}};r.lexer={lex:function(){var k;k=this.tokens[this.pos]||[""];this.pos++;this.yylineno=k&&k[1]&&k[1][1];this.yytext=k[2];return k[0]},setInput:function(k){this.tokens=k;return this.pos=0},upcomingInput:function(){return""},showPosition:function(){return this.pos}};return r}(),o,q,p;root=typeof exports!=="undefined"&&exports!==null?exports:this;CoffeePot=root.CoffeePot=typeof root.CoffeePot!=="undefined"&&
root.CoffeePot!==null?root.CoffeePot:{};CoffeePot.parse=function(r){return l.parse(r)};if(!(typeof Object.keys!=="undefined"&&Object.keys!==null))return Object.keys=function(){o=[];q=obj;for(p in q){value=q[p];__hasProp.call(q,p)&&o.push(obj(function(){return p}))}return o}.call(this)})();
(function(){var l,o,q,p,r,k,f,s=Object.prototype.hasOwnProperty;k=typeof exports!=="undefined"&&exports!==null?exports:this;l=k.CoffeePot=typeof k.CoffeePot!=="undefined"&&k.CoffeePot!==null?k.CoffeePot:{};l.tokenize=typeof l.tokenize!=="undefined"&&l.tokenize!==null?l.tokenize:require("coffeepot/lexer").CoffeePot.tokenize;l.parse=typeof l.parse!=="undefined"&&l.parse!==null?l.parse:require("coffeepot/parser").CoffeePot.parse;p=[];q=function(g){var a,c,b,e;return function(){a=[];c=g.split("\n");for(b=
0;b<c.length;b++){e=c[b];a.push("  "+e)}return a}.call(this).join("\n")};f=function(g){g=l.tokenize(g);g=l.parse(g)[1][1][0];return r(g)};o={Root:function g(a){var c,b,e,h;a=this(a);h=function(){c=[];b=p.pop();for(e in b)s.call(b,e)&&c.push(e);return c}.call(this);if(h.length>0){a="var "+h.join(", ")+";\n"+a;a="\n"+q(a)+"\n";a="(function () {"+a+"}());"}a=a;return g===this.constructor?this:a},Not:function g(a){a="!("+this(a)+")";return g===this.constructor?this:a},Block:function g(a){var c,b,e;e=
this;p.push({});b=false;c=a.map(function(h){var d;d=h[0];c=e(h);c=function(){return d==="COMMENT"?(b?"":"\n")+c:d==="If"?c:c+";"}.call(this);b=d==="COMMENT";return c});a=c=c.join("\n");return g===this.constructor?this:a},Property:function g(a,c){a=this(a)+"."+this(c);return g===this.constructor?this:a},Function:function g(a,c,b){var e,h,d,i,m,j,n,t,u;b=typeof b!=="undefined"&&b!==null?b:"";c=function(){if(c)if(c[0]==="Block"){p.push({});c=this(c);t=function(){e=[];h=p.pop();for(u in h)s.call(h,u)&&
e.push(u);return e}.call(this);t.length>0&&(c="var "+t.join(", ")+";\n"+c);d="\n"+q(c)+"\n";return g===this.constructor?this:d}else{i=" return "+this(c)+"; ";return g===this.constructor?this:i}else return g===this.constructor?this:""}.call(this);b="function "+b+"("+function(){m=[];for(j=0;j<a.length;j++){n=a[j];m.push(n[1])}return m}.call(this).join(", ")+") {"+c+"}";return g===this.constructor?this:b},COMMENT:function g(a){a="//"+a;return g===this.constructor?this:a},STRING:function g(a){var c,b,
e,h,d,i,m,j;if(a.match(/[^\\]?#{.*[^\\]}/)){d=[];i=0;for(e=a.length;i<e;){j=i;i=a.substr(i,e).indexOf("#{");console.log(i);if(i<0){i=e;d.push(JSON.stringify(a.substr(j,e-j)))}else{i+=j;d.push(JSON.stringify(a.substr(j,i-j)));i+=2;j=i;h=1;for(b=m=false;!b&&i<e;){c=a.substr(i,1);i++;if(c==="\\")i++;else if(m){if(c===m)m=false}else if(c==="{")h++;else if(c==="}"){h--;if(h===0)b=true}else if(c==='"'||c==="'")m=c}c=a.substr(j,i-j-1);d.push(f(c))}}a=d.join(" + ");return g===this.constructor?this:a}else{a=
JSON.stringify(a);return g===this.constructor?this:a}},If:function g(a,c){a="if ("+this(a)+") { "+this(c)+"; }";return g===this.constructor?this:a},Assign:function g(a,c){var b;if(a[0]==="ID"){b=a[1];c[0]==="Function"&&(c[3]=b);p[p.length-1][b]=true}a=this(a)+" = "+this(c);return g===this.constructor?this:a},Source:function g(a){var c,b,e,h;c=function(){b=[];for(e=0;e<a.length;e++){h=a[e];b.push(h[1])}return b}.call(this).join("");return g===this.constructor?this:c},Call:function g(a,c,b){var e;e=
this;b=b.map(function(h){return e(h)});c=this(c)+"("+b.join(", ")+")";a=a?this(a)+"."+c:c;return g===this.constructor?this:a},ExpressionList:function g(a){var c,b,e,h,d;d=this;c=function(){b=[];for(e=0;e<a.length;e++){h=a[e];b.push(d(h))}return b}.call(this).join(", ");return g===this.constructor?this:c},Compound:function g(a){var c,b,e,h;c=function(){b=[];for(e=0;e<a.length;e++){h=a[e];b.push(this(h))}return b}.call(this).join("");return g===this.constructor?this:c},Binop:function g(a,c,b){var e,
h,d,i;d=this(c);i=this(b);c=function(){if(a==="?"){e="(typeof "+d+' !== "undefined" && '+d+" !== null) ? "+d+" : "+i;return g===this.constructor?this:e}else{if(a==="==")a="===";else if(a==="!=")a="!==";h=d+" "+a+" "+i;return g===this.constructor?this:h}}.call(this);return g===this.constructor?this:c},Array:function g(a){var c,b,e,h,d;d=this;c="["+function(){b=[];for(e=0;e<a.length;e++){h=a[e];b.push(d(h))}return b}.call(this).join(", ")+"]";return g===this.constructor?this:c},Object:function g(a){var c,
b,e,h,d;d=this;e=function(){c=[];for(b=0;b<a.length;b++){h=a[b];c.push(d(h[0])+": "+d(h[1]))}return c}.call(this);e="{\n"+q(e.join(",\n"))+"\n}";return g===this.constructor?this:e}};r=function g(a){var c,b;if(!a)return"";b=a[0];c=Array.prototype.slice.call(a,1);return o[b]?o[b].apply(g,c):typeof b==="string"&&b.match(/^[A-Z]+$/)?c[0]:JSON.stringify(a)};l.generate=r})();
(function(){var l,o;o=typeof exports!=="undefined"&&exports!==null?exports:this;l=o.CoffeePot=typeof o.CoffeePot!=="undefined"&&o.CoffeePot!==null?o.CoffeePot:{};l.tokenize=typeof l.tokenize!=="undefined"&&l.tokenize!==null?l.tokenize:require("coffeepot/lexer").CoffeePot.tokenize;l.parse=typeof l.parse!=="undefined"&&l.parse!==null?l.parse:require("coffeepot/parser").CoffeePot.parse;l.generate=typeof l.generate!=="undefined"&&l.generate!==null?l.generate:require("coffeepot/generator").CoffeePot.generate;
l.compile=function(q){var p,r,k,f,s,g,a;g=l.tokenize(q);try{k=l.parse(g)}catch(c){p=c.message.split("\n");k=p[0];f=p[1];f=parseInt(f)-1;if(s=g[f]){r=s[1]&&s[1][1]+1;p=q.substr(0,s[1][0]).match(/\n?.*$/)[0];q=q.substr(s[1][0],q.length).match(/^.*\n?/)[0];a=g.slice(0,f).filter(function(b){return b[1]&&b[1][1]===r-1});a=a.map(function(b){return b[0]});g=g.slice(f,g.length).filter(function(b){return b[1]&&b[1][1]===r-1});g=g.map(function(b){return b[0]});c.message=k+"\nbut found '"+s[0]+"'\nLine "+r+
": "+JSON.stringify(p)+" !! "+JSON.stringify(q)+"'\nTokens "+JSON.stringify(a)+" !! "+JSON.stringify(g)}throw c;}return l.generate(k)}})();
