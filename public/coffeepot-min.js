(function(){var n,p,l,e,q,o,c,j,b,h=Object.prototype.hasOwnProperty;p=typeof exports!=="undefined"&&exports!==null?exports:this;p=p.CoffeePot=typeof p.CoffeePot!=="undefined"&&p.CoffeePot!==null?p.CoffeePot:{};n=["true","false","yes","no","on","off"];e=["if","else","then","unless","and","or","is","isnt","not","new","return","try","catch","finally","throw","break","continue","for","in","of","by","where","while","switch","when","super","extends","arguments","var","delete","instanceof","typeof"];l=["COMMENT",
"ID","PROPERTY","OPERATOR","NUMBER","BOOLEAN","RAW","HEREDOC","STRING","REGEX"];q={CODE:/^([\(\)\[\]\{\}:=;,.])/,NEWLINE:/^([ \t]*\n)/,WS:/^([ \t]+)/,COMMENT:/^(#.*)\n?/,ID:/^([a-z_$][a-z0-9_$]*)/i,ROCKET:/^(=>)/,OPERATOR:/^([+\*&|\/\-%=<>!?]+)/,DOTDOTDOT:/^(\.\.\.)/,DOTDOT:/^(\.\.)/,NUMBER:function d(a){var i;if(!a[0].match(/[0-9.-]/))return null;a=!isNaN(i=parseInt(a)||parseFloat(a))?{"1":i+""}:null;return d===this.constructor?this:a},JS:function d(a){var i,g,f;if(a[0]!=="`")return null;f=1;g=a.length+
1;for(i=false;!i&&f<g;){a[f]==="`"&&(i=true);a[f]==="\\"&&f++;f++}a=f>=g?null:{"1":a.substr(0,f)};return d===this.constructor?this:a},HEREDOC:function d(a){var i,g,f,m;if(!(m=a.match(/^("""|''')\n/)))return null;m=m[1];f=3;g=a.length+1;for(i=false;!i&&f<g;){if(a.substr(f,3)===m){i=true;f+=2}f++}a=f>=g?null:{"1":a.substr(0,f)};return d===this.constructor?this:a},STRING:function d(a){var i,g,f,m;m=a[0];if(!(m==='"'||m==="'"))return null;f=1;g=a.length+1;for(i=false;!i&&f<g;){a[f]===m&&(i=true);a[f]===
"\\"&&f++;f++}a=f>=g?null:{"1":a.substr(0,f)};return d===this.constructor?this:a},REGEX:function d(a){var i,g,f;if(a[0]!=="/")return null;f=1;g=a.length+1;for(i=false;!i&&f<g;)try{eval(a.substr(0,f));i=true}catch(m){f++}a=f>=g?null:{"1":a.substr(0,f)};return d===this.constructor?this:a}};b=[];c=function(d){var a,i,g,f;f=null;for(g in q){i=q[g];if(h.call(q,g))(a=i(d))&&(f===null||a[1].length>f[1].length)&&(f=[g,a[1]])}if(f)return f;else{debug(inspect(b));throw new Error("Unknown Token: "+JSON.stringify(d.split("\n")[0]));
}};j=function(d){return Helper.block_trim(d.substr(4,d.length-7))};o=function(d){var a,i,g,f,m,k,r;f=[];m=[""];i=-1;for(a=0;a<d.length;a++){k=d[a];g=d[i];i++;if(g&&g[0]==="NEWLINE"){if(k[0]==="NEWLINE")continue;r=m[m.length-1];for(g=k[0]==="WS"?k[2]:"";g.length<r.length;){if(g!==r.substr(0,g.length))throw new Error("Indentation mismatch");f.push(["DEDENT",k[1],r]);f.push(["NEWLINE",k[1]]);m.pop();r=m[m.length-1]}if(g.length>r.length){if(r!==g.substr(0,r.length))throw new Error("Indentation mismatch");
f.pop();f.push(["INDENT",k[1],g]);m.push(g)}if(g.length===r.length&&g!==r)throw new Error("Indentation mismatch");}if(k[0]==="ID")if(e.indexOf(k[2])>=0)k[0]=k[2];else if((g=n.indexOf(k[2]))>=0){k[0]="BOOLEAN";k[2]=g%2===0}k[0]==="STRING"&&(k[2]=function(){try{return JSON.parse(k[2].replace(/\n/g,"\\n"))}catch(s){return k[2]}}());if(k[0]==="HEREDOC"){k[2]=j(k[2]);k[0]="STRING"}k[0]==="COMMENT"&&(k[2]=k[2].substr(1,k[2].length));k[0]==="CODE"&&(k[0]=k[2]);l.indexOf(k[0])<0&&(k.length=2);k[0]!=="WS"&&
f.push(k)}for(;m.length>1;)f.push(["DEDENT",[d.length,code.length],m.pop()]);return f};p.tokenize=function(d){var a,i,g,f,m;d+="\n";i=d.length;f=0;for(b=[];f<i;){a=c(d.substr(f,i));m=a[0];g=a[1];a=d.substr(0,f).replace(/[^\n]/g,"").length;b.push([m,[f,a],g]);f+=g.length}return o(b)}})();
(function(){var n=function(){var p={log:function(){this.DEBUG&&puts(JSON.stringify(Array.prototype.slice.call(arguments)))},yy:{},symbols_:{Root:2,Block:3,Statement:4,NEWLINE:5,Expression:6,"if":7,unless:8,COMMENT:9,Literal:10,Source:11,Assign:12,Function:13,Binop:14,Array:15,Object:16,Call:17,Id:18,"(":19,")":20,".":21,ExpressionList:22,",":23,Operator:24,"[":25,ArrayItems:26,"]":27,INDENT:28,DEDENT:29,"{":30,ObjectItems:31,"}":32,ObjectItem:33,":":34,String:35,OPERATOR:36,NUMBER:37,BOOLEAN:38,REGEX:39,
STRING:40,"=":41,Property:42,ROCKET:43,Splat:44,VarListItem:45,VarList:46,DOTDOTDOT:47,ID:48,$accept:0,$end:1},terminals_:{"5":"NEWLINE","7":"if","8":"unless","9":"COMMENT","19":"(","20":")","21":".","23":",","25":"[","27":"]","28":"INDENT","29":"DEDENT","30":"{","32":"}","34":":","35":"String","36":"OPERATOR","37":"NUMBER","38":"BOOLEAN","39":"REGEX","40":"STRING","41":"=","43":"ROCKET","47":"DOTDOTDOT","48":"ID"},productions_:[0,[2,1],[2,0],[3,2],[3,3],[4,3],[4,3],[4,1],[4,1],[6,1],[6,1],[6,1],
[6,1],[6,1],[6,1],[6,1],[6,1],[17,3],[17,5],[17,4],[17,6],[22,1],[22,3],[14,3],[15,3],[15,7],[26,1],[26,3],[26,3],[16,3],[16,7],[33,3],[33,3],[31,1],[31,3],[31,3],[24,1],[10,1],[10,1],[10,1],[10,1],[12,3],[12,3],[42,3],[11,1],[11,3],[11,4],[13,2],[13,3],[13,5],[45,1],[45,1],[46,1],[46,3],[44,2],[18,1]],performAction:function(l,e,q,o,c){e=c.length;switch(o){case 1:return this.$=["Root",["Block",c[e-1+1-1]]];case 2:return this.$=false;case 3:this.$=[c[e-2+1-1]];break;case 4:this.$=c[e-3+1-1].concat([c[e-
3+2-1]]);break;case 5:this.$=["If",c[e-3+3-1],c[e-3+1-1]];break;case 6:this.$=["If",["Not",c[e-3+3-1]],c[e-3+1-1]];break;case 7:this.$=c[e-1+1-1];break;case 8:this.$=["COMMENT",l];break;case 9:this.$=c[e-1+1-1];break;case 10:this.$=c[e-1+1-1];break;case 11:this.$=c[e-1+1-1];break;case 12:this.$=c[e-1+1-1];break;case 13:this.$=c[e-1+1-1];break;case 14:this.$=c[e-1+1-1];break;case 15:this.$=c[e-1+1-1];break;case 16:this.$=c[e-1+1-1];break;case 17:this.$=["Call",null,c[e-3+1-1],[]];break;case 18:this.$=
["Call",c[e-5+1-1],c[e-5+3-1],[]];break;case 19:this.$=["Call",null,c[e-4+1-1],c[e-4+3-1]];break;case 20:this.$=["Call",c[e-6+1-1],c[e-6+3-1],c[e-6+5-1]];break;case 21:this.$=[c[e-1+1-1]];break;case 22:this.$=c[e-3+1-1].concat([c[e-3+3-1]]);break;case 23:this.$=["Binop",c[e-3+2-1],c[e-3+1-1],c[e-3+3-1]];break;case 24:this.$=["Array",c[e-3+2-1]];break;case 25:this.$=["Array",c[e-7+3-1]];break;case 26:this.$=[c[e-1+1-1]];break;case 27:this.$=c[e-3+1-1].concat([c[e-3+3-1]]);break;case 28:this.$=c[e-
3+1-1].concat([c[e-3+3-1]]);break;case 29:this.$=["Object",c[e-3+2-1]];break;case 30:this.$=["Object",c[e-7+3-1]];break;case 31:this.$=[c[e-3+1-1],c[e-3+3-1]];break;case 32:this.$=[c[e-3+1-1],c[e-3+3-1]];break;case 33:this.$=[c[e-1+1-1]];break;case 34:this.$=c[e-3+1-1].concat([c[e-3+3-1]]);break;case 35:this.$=c[e-3+1-1].concat([c[e-3+3-1]]);break;case 36:this.$=l;break;case 37:this.$=["NUMBER",l];break;case 38:this.$=["BOOLEAN",l];break;case 39:this.$=["REGEX",l];break;case 40:this.$=["STRING",l];
break;case 41:this.$=["Assign",c[e-3+1-1],c[e-3+3-1]];break;case 42:this.$=["Assign",c[e-3+1-1],c[e-3+3-1]];break;case 43:this.$=["Property",[]];break;case 44:this.$=c[e-1+1-1];break;case 45:this.$=["Property",c[e-3+1-1],c[e-3+3-1]];break;case 46:this.$=["Property",c[e-4+1-1],3];break;case 47:this.$=["Function",[],c[e-2+2-1]];break;case 48:this.$=["Function",[c[e-3+1-1]],c[e-3+3-1]];break;case 49:this.$=["Function",[c[e-5+1-1],c[e-5+3-1]],c[e-5+5-1]];break;case 50:this.$=c[e-1+1-1];break;case 51:this.$=
c[e-1+1-1];break;case 52:this.$=[c[e-1+1-1]];break;case 53:this.$=c[e-3+1-1].concat(c[e-3+3-1]);break;case 54:this.$=["Splat",c[e-2+1-1][1]];break;case 55:this.$=["ID",l];break}},table:[{"1":[[2,2]],"2":1,"3":2,"4":3,"6":4,"9":[[1,5]],"10":6,"11":7,"12":8,"13":9,"14":10,"15":11,"16":12,"17":13,"18":18,"25":[[1,20]],"30":[[1,21]],"37":[[1,14]],"38":[[1,15]],"39":[[1,16]],"40":[[1,17]],"43":[[1,19]],"48":[[1,22]]},{"1":[[3]]},{"1":[[2,1]],"4":23,"6":4,"9":[[1,5]],"10":6,"11":7,"12":8,"13":9,"14":10,
"15":11,"16":12,"17":13,"18":18,"25":[[1,20]],"30":[[1,21]],"37":[[1,14]],"38":[[1,15]],"39":[[1,16]],"40":[[1,17]],"43":[[1,19]],"48":[[1,22]]},{"5":[[1,24]]},{"5":[[2,7]],"7":[[1,25]],"8":[[1,26]],"21":[[1,28]],"24":27,"36":[[1,29]]},{"5":[[2,8]]},{"5":[[2,9]],"7":[[2,9]],"8":[[2,9]],"20":[[2,9]],"21":[[2,9]],"23":[[2,9]],"27":[[2,9]],"32":[[2,9]],"36":[[2,9]]},{"5":[[2,10]],"7":[[2,10]],"8":[[2,10]],"20":[[2,10]],"21":[[1,30]],"23":[[2,10]],"25":[[1,31]],"27":[[2,10]],"32":[[2,10]],"34":[[1,32]],
"36":[[2,10]],"41":[[1,33]]},{"5":[[2,11]],"7":[[2,11]],"8":[[2,11]],"20":[[2,11]],"21":[[2,11]],"23":[[2,11]],"27":[[2,11]],"32":[[2,11]],"36":[[2,11]]},{"5":[[2,12]],"7":[[2,12]],"8":[[2,12]],"20":[[2,12]],"21":[[2,12]],"23":[[2,12]],"27":[[2,12]],"32":[[2,12]],"36":[[2,12]]},{"5":[[2,13]],"7":[[2,13]],"8":[[2,13]],"20":[[2,13]],"21":[[2,13]],"23":[[2,13]],"27":[[2,13]],"32":[[2,13]],"36":[[2,13]]},{"5":[[2,14]],"7":[[2,14]],"8":[[2,14]],"20":[[2,14]],"21":[[2,14]],"23":[[2,14]],"27":[[2,14]],"32":[[2,
14]],"36":[[2,14]]},{"5":[[2,15]],"7":[[2,15]],"8":[[2,15]],"20":[[2,15]],"21":[[2,15]],"23":[[2,15]],"27":[[2,15]],"32":[[2,15]],"36":[[2,15]]},{"5":[[2,16]],"7":[[2,16]],"8":[[2,16]],"20":[[2,16]],"21":[[2,16]],"23":[[2,16]],"27":[[2,16]],"32":[[2,16]],"36":[[2,16]]},{"5":[[2,37]],"7":[[2,37]],"8":[[2,37]],"20":[[2,37]],"21":[[2,37]],"23":[[2,37]],"27":[[2,37]],"32":[[2,37]],"36":[[2,37]]},{"5":[[2,38]],"7":[[2,38]],"8":[[2,38]],"20":[[2,38]],"21":[[2,38]],"23":[[2,38]],"27":[[2,38]],"32":[[2,38]],
"36":[[2,38]]},{"5":[[2,39]],"7":[[2,39]],"8":[[2,39]],"20":[[2,39]],"21":[[2,39]],"23":[[2,39]],"27":[[2,39]],"32":[[2,39]],"36":[[2,39]]},{"5":[[2,40]],"7":[[2,40]],"8":[[2,40]],"20":[[2,40]],"21":[[2,40]],"23":[[2,40]],"27":[[2,40]],"32":[[2,40]],"36":[[2,40]]},{"5":[[2,44]],"7":[[2,44]],"8":[[2,44]],"19":[[1,36]],"20":[[2,44]],"21":[[2,44]],"23":[[1,35]],"25":[[2,44]],"27":[[2,44]],"32":[[2,44]],"34":[[2,44]],"36":[[2,44]],"41":[[2,44]],"43":[[1,34]]},{"6":37,"10":6,"11":7,"12":8,"13":9,"14":10,
"15":11,"16":12,"17":13,"18":18,"25":[[1,20]],"30":[[1,21]],"37":[[1,14]],"38":[[1,15]],"39":[[1,16]],"40":[[1,17]],"43":[[1,19]],"48":[[1,22]]},{"6":40,"10":6,"11":7,"12":8,"13":9,"14":10,"15":11,"16":12,"17":13,"18":18,"25":[[1,20]],"26":38,"28":[[1,39]],"30":[[1,21]],"37":[[1,14]],"38":[[1,15]],"39":[[1,16]],"40":[[1,17]],"43":[[1,19]],"48":[[1,22]]},{"18":44,"28":[[1,42]],"31":41,"33":43,"35":[[1,45]],"48":[[1,22]]},{"5":[[2,55]],"7":[[2,55]],"8":[[2,55]],"19":[[2,55]],"20":[[2,55]],"21":[[2,
55]],"23":[[2,55]],"25":[[2,55]],"27":[[2,55]],"32":[[2,55]],"34":[[2,55]],"36":[[2,55]],"41":[[2,55]],"43":[[2,55]],"47":[[2,55]]},{"5":[[1,46]]},{"1":[[2,3]],"9":[[2,3]],"25":[[2,3]],"30":[[2,3]],"37":[[2,3]],"38":[[2,3]],"39":[[2,3]],"40":[[2,3]],"43":[[2,3]],"48":[[2,3]]},{"6":47,"10":6,"11":7,"12":8,"13":9,"14":10,"15":11,"16":12,"17":13,"18":18,"25":[[1,20]],"30":[[1,21]],"37":[[1,14]],"38":[[1,15]],"39":[[1,16]],"40":[[1,17]],"43":[[1,19]],"48":[[1,22]]},{"6":48,"10":6,"11":7,"12":8,"13":9,
"14":10,"15":11,"16":12,"17":13,"18":18,"25":[[1,20]],"30":[[1,21]],"37":[[1,14]],"38":[[1,15]],"39":[[1,16]],"40":[[1,17]],"43":[[1,19]],"48":[[1,22]]},{"6":49,"10":6,"11":7,"12":8,"13":9,"14":10,"15":11,"16":12,"17":13,"18":18,"25":[[1,20]],"30":[[1,21]],"37":[[1,14]],"38":[[1,15]],"39":[[1,16]],"40":[[1,17]],"43":[[1,19]],"48":[[1,22]]},{"18":50,"48":[[1,22]]},{"25":[[2,36]],"30":[[2,36]],"37":[[2,36]],"38":[[2,36]],"39":[[2,36]],"40":[[2,36]],"43":[[2,36]],"48":[[2,36]]},{"18":51,"48":[[1,22]]},
{"6":52,"10":6,"11":7,"12":8,"13":9,"14":10,"15":11,"16":12,"17":13,"18":18,"25":[[1,20]],"30":[[1,21]],"37":[[1,14]],"38":[[1,15]],"39":[[1,16]],"40":[[1,17]],"43":[[1,19]],"48":[[1,22]]},{"6":53,"10":6,"11":7,"12":8,"13":9,"14":10,"15":11,"16":12,"17":13,"18":18,"25":[[1,20]],"30":[[1,21]],"37":[[1,14]],"38":[[1,15]],"39":[[1,16]],"40":[[1,17]],"43":[[1,19]],"48":[[1,22]]},{"6":54,"10":6,"11":7,"12":8,"13":9,"14":10,"15":11,"16":12,"17":13,"18":18,"25":[[1,20]],"30":[[1,21]],"37":[[1,14]],"38":[[1,
15]],"39":[[1,16]],"40":[[1,17]],"43":[[1,19]],"48":[[1,22]]},{"6":55,"10":6,"11":7,"12":8,"13":9,"14":10,"15":11,"16":12,"17":13,"18":18,"25":[[1,20]],"30":[[1,21]],"37":[[1,14]],"38":[[1,15]],"39":[[1,16]],"40":[[1,17]],"43":[[1,19]],"48":[[1,22]]},{"18":57,"44":56,"48":[[1,22]]},{"6":60,"10":6,"11":7,"12":8,"13":9,"14":10,"15":11,"16":12,"17":13,"18":18,"20":[[1,58]],"22":59,"25":[[1,20]],"30":[[1,21]],"37":[[1,14]],"38":[[1,15]],"39":[[1,16]],"40":[[1,17]],"43":[[1,19]],"48":[[1,22]]},{"5":[[2,
47]],"7":[[2,47]],"8":[[2,47]],"20":[[2,47]],"21":[[1,28]],"23":[[2,47]],"24":27,"27":[[2,47]],"32":[[2,47]],"36":[[1,29]]},{"5":[[1,63]],"23":[[1,62]],"27":[[1,61]]},{"6":40,"10":6,"11":7,"12":8,"13":9,"14":10,"15":11,"16":12,"17":13,"18":18,"25":[[1,20]],"26":64,"30":[[1,21]],"37":[[1,14]],"38":[[1,15]],"39":[[1,16]],"40":[[1,17]],"43":[[1,19]],"48":[[1,22]]},{"5":[[2,26]],"21":[[1,28]],"23":[[2,26]],"24":27,"27":[[2,26]],"36":[[1,29]]},{"5":[[1,67]],"23":[[1,66]],"32":[[1,65]]},{"18":44,"31":68,
"33":43,"35":[[1,45]],"48":[[1,22]]},{"5":[[2,33]],"23":[[2,33]],"32":[[2,33]]},{"34":[[1,69]]},{"34":[[1,70]]},{"1":[[2,4]],"9":[[2,4]],"25":[[2,4]],"30":[[2,4]],"37":[[2,4]],"38":[[2,4]],"39":[[2,4]],"40":[[2,4]],"43":[[2,4]],"48":[[2,4]]},{"5":[[2,5]],"21":[[1,28]],"24":27,"36":[[1,29]]},{"5":[[2,6]],"21":[[1,28]],"24":27,"36":[[1,29]]},{"5":[[2,23]],"7":[[2,23]],"8":[[2,23]],"20":[[2,23]],"21":[[1,28]],"23":[[2,23]],"24":27,"27":[[2,23]],"32":[[2,23]],"36":[[1,29]]},{"19":[[1,71]]},{"5":[[2,45]],
"7":[[2,45]],"8":[[2,45]],"20":[[2,45]],"21":[[2,45]],"23":[[2,45]],"25":[[2,45]],"27":[[2,45]],"32":[[2,45]],"34":[[2,45]],"36":[[2,45]],"41":[[2,45]]},{"21":[[1,28]],"24":27,"27":[[1,72]],"36":[[1,29]]},{"5":[[2,41]],"7":[[2,41]],"8":[[2,41]],"20":[[2,41]],"21":[[1,28]],"23":[[2,41]],"24":27,"27":[[2,41]],"32":[[2,41]],"36":[[1,29]]},{"5":[[2,42]],"7":[[2,42]],"8":[[2,42]],"20":[[2,42]],"21":[[1,28]],"23":[[2,42]],"24":27,"27":[[2,42]],"32":[[2,42]],"36":[[1,29]]},{"5":[[2,48]],"7":[[2,48]],"8":[[2,
48]],"20":[[2,48]],"21":[[1,28]],"23":[[2,48]],"24":27,"27":[[2,48]],"32":[[2,48]],"36":[[1,29]]},{"43":[[1,73]]},{"47":[[1,74]]},{"5":[[2,17]],"7":[[2,17]],"8":[[2,17]],"20":[[2,17]],"21":[[2,17]],"23":[[2,17]],"27":[[2,17]],"32":[[2,17]],"36":[[2,17]]},{"20":[[1,75]],"23":[[1,76]]},{"20":[[2,21]],"21":[[1,28]],"23":[[2,21]],"24":27,"36":[[1,29]]},{"5":[[2,24]],"7":[[2,24]],"8":[[2,24]],"20":[[2,24]],"21":[[2,24]],"23":[[2,24]],"27":[[2,24]],"32":[[2,24]],"36":[[2,24]]},{"6":77,"10":6,"11":7,"12":8,
"13":9,"14":10,"15":11,"16":12,"17":13,"18":18,"25":[[1,20]],"30":[[1,21]],"37":[[1,14]],"38":[[1,15]],"39":[[1,16]],"40":[[1,17]],"43":[[1,19]],"48":[[1,22]]},{"6":78,"10":6,"11":7,"12":8,"13":9,"14":10,"15":11,"16":12,"17":13,"18":18,"25":[[1,20]],"30":[[1,21]],"37":[[1,14]],"38":[[1,15]],"39":[[1,16]],"40":[[1,17]],"43":[[1,19]],"48":[[1,22]]},{"5":[[1,79]],"23":[[1,62]]},{"5":[[2,29]],"7":[[2,29]],"8":[[2,29]],"20":[[2,29]],"21":[[2,29]],"23":[[2,29]],"27":[[2,29]],"32":[[2,29]],"36":[[2,29]]},
{"18":44,"33":80,"35":[[1,45]],"48":[[1,22]]},{"18":44,"33":81,"35":[[1,45]],"48":[[1,22]]},{"5":[[1,82]],"23":[[1,66]]},{"6":83,"10":6,"11":7,"12":8,"13":9,"14":10,"15":11,"16":12,"17":13,"18":18,"25":[[1,20]],"30":[[1,21]],"37":[[1,14]],"38":[[1,15]],"39":[[1,16]],"40":[[1,17]],"43":[[1,19]],"48":[[1,22]]},{"6":84,"10":6,"11":7,"12":8,"13":9,"14":10,"15":11,"16":12,"17":13,"18":18,"25":[[1,20]],"30":[[1,21]],"37":[[1,14]],"38":[[1,15]],"39":[[1,16]],"40":[[1,17]],"43":[[1,19]],"48":[[1,22]]},{"6":60,
"10":6,"11":7,"12":8,"13":9,"14":10,"15":11,"16":12,"17":13,"18":18,"20":[[1,85]],"22":86,"25":[[1,20]],"30":[[1,21]],"37":[[1,14]],"38":[[1,15]],"39":[[1,16]],"40":[[1,17]],"43":[[1,19]],"48":[[1,22]]},{"5":[[2,46]],"7":[[2,46]],"8":[[2,46]],"20":[[2,46]],"21":[[2,46]],"23":[[2,46]],"25":[[2,46]],"27":[[2,46]],"32":[[2,46]],"34":[[2,46]],"36":[[2,46]],"41":[[2,46]]},{"6":87,"10":6,"11":7,"12":8,"13":9,"14":10,"15":11,"16":12,"17":13,"18":18,"25":[[1,20]],"30":[[1,21]],"37":[[1,14]],"38":[[1,15]],
"39":[[1,16]],"40":[[1,17]],"43":[[1,19]],"48":[[1,22]]},{"43":[[2,54]]},{"5":[[2,19]],"7":[[2,19]],"8":[[2,19]],"20":[[2,19]],"21":[[2,19]],"23":[[2,19]],"27":[[2,19]],"32":[[2,19]],"36":[[2,19]]},{"6":88,"10":6,"11":7,"12":8,"13":9,"14":10,"15":11,"16":12,"17":13,"18":18,"25":[[1,20]],"30":[[1,21]],"37":[[1,14]],"38":[[1,15]],"39":[[1,16]],"40":[[1,17]],"43":[[1,19]],"48":[[1,22]]},{"5":[[2,27]],"21":[[1,28]],"23":[[2,27]],"24":27,"27":[[2,27]],"36":[[1,29]]},{"5":[[2,28]],"21":[[1,28]],"23":[[2,
28]],"24":27,"27":[[2,28]],"36":[[1,29]]},{"6":78,"10":6,"11":7,"12":8,"13":9,"14":10,"15":11,"16":12,"17":13,"18":18,"25":[[1,20]],"29":[[1,89]],"30":[[1,21]],"37":[[1,14]],"38":[[1,15]],"39":[[1,16]],"40":[[1,17]],"43":[[1,19]],"48":[[1,22]]},{"5":[[2,34]],"23":[[2,34]],"32":[[2,34]]},{"5":[[2,35]],"23":[[2,35]],"32":[[2,35]]},{"18":44,"29":[[1,90]],"33":81,"35":[[1,45]],"48":[[1,22]]},{"5":[[2,31]],"21":[[1,28]],"23":[[2,31]],"24":27,"32":[[2,31]],"36":[[1,29]]},{"5":[[2,32]],"21":[[1,28]],"23":[[2,
32]],"24":27,"32":[[2,32]],"36":[[1,29]]},{"5":[[2,18]],"7":[[2,18]],"8":[[2,18]],"20":[[2,18]],"21":[[2,18]],"23":[[2,18]],"27":[[2,18]],"32":[[2,18]],"36":[[2,18]]},{"20":[[1,91]],"23":[[1,76]]},{"5":[[2,49]],"7":[[2,49]],"8":[[2,49]],"20":[[2,49]],"21":[[1,28]],"23":[[2,49]],"24":27,"27":[[2,49]],"32":[[2,49]],"36":[[1,29]]},{"20":[[2,22]],"21":[[1,28]],"23":[[2,22]],"24":27,"36":[[1,29]]},{"5":[[1,92]]},{"5":[[1,93]]},{"5":[[2,20]],"7":[[2,20]],"8":[[2,20]],"20":[[2,20]],"21":[[2,20]],"23":[[2,
20]],"27":[[2,20]],"32":[[2,20]],"36":[[2,20]]},{"27":[[1,94]]},{"32":[[1,95]]},{"5":[[2,25]],"7":[[2,25]],"8":[[2,25]],"20":[[2,25]],"21":[[2,25]],"23":[[2,25]],"27":[[2,25]],"32":[[2,25]],"36":[[2,25]]},{"5":[[2,30]],"7":[[2,30]],"8":[[2,30]],"20":[[2,30]],"21":[[2,30]],"23":[[2,30]],"27":[[2,30]],"32":[[2,30]],"36":[[2,30]]}],parseError:function(l){throw new Error(l);},parse:function(l){function e(){var r;return(r=q.lexer.lex())?q.symbols_[r]:1}var q=this,o=[0],c=[null],j=this.table,b="",h=0;this.lexer.setInput(l);
this.lexer.yy=this.yy;l=this.yy.parseError=this.yy.parseError||this.parseError;var d,a,i,g={},f,m,k=0;for(d=e();;){this.log("stack:",JSON.stringify(o),"\n\t\t\tinput:",this.lexer._input);this.log("vstack:",JSON.stringify(c));a=o[o.length-1];i=j[a]&&j[a][d];if(typeof i=="undefined"||!i.length||!i[0]){m=[];for(f in j[a])this.terminals_[f]&&f!=1&&m.push("'"+this.terminals_[f]+"'");q.log("stack:",JSON.stringify(o),"symbol:",d,"input",this.lexer.upcomingInput());l("Parse error on line "+(h+1)+". Expecting: "+
m.join(", ")+"\n"+this.lexer.showPosition(),{text:this.lexer.match,token:d,line:this.lexer.yylineno})}this.log("action:",i);if(i.length>1)throw new Error("Parse Error: multiple actions possible at state: "+a+", token: "+d);a=i[0];switch(a[0]){case 1:o.push(d);++k;b=this.lexer.yytext;h=this.lexer.yylineno;d=e();c.push(null);o.push(a[1]);break;case 2:m=this.productions_[a[1]][1];this.log("reduce by: ",this.productions?this.productions[a[1]]:a[1]);g.$=c[c.length-m];i=this.performAction.call(g,b,h,this.yy,
a[1],c);if(i!=undefined)return i;this.log("yyval=",JSON.stringify(g.$));if(m){this.log("production length:",m);o=o.slice(0,-1*m*2);c=c.slice(0,-1*m)}o.push(this.productions_[a[1]][0]);c.push(g.$);a=j[o[o.length-2]][o[o.length-1]];o.push(a);break;case 3:this.log("stack:",o,"\n\tinput:",this.lexer._input);this.log("vstack:",JSON.stringify(c));return true}}return true}};p.lexer={lex:function(){var l;l=this.tokens[this.pos]||[""];this.pos++;this.yylineno=l&&l[1]&&l[1][1];this.yytext=l[2];return l[0]},
setInput:function(l){this.tokens=l;return this.pos=0},upcomingInput:function(){return""},showPosition:function(){return this.pos}};return p}();root=typeof exports!=="undefined"&&exports!==null?exports:this;CoffeePot=root.CoffeePot=typeof root.CoffeePot!=="undefined"&&root.CoffeePot!==null?root.CoffeePot:{};CoffeePot.parse=function(p){return n.parse(p)};if(!(typeof Object.keys!=="undefined"&&Object.keys!==null))return Object.keys=function(p){var l,e;l=[];for(e in p){value=p[e];__hasProp.call(p,e)&&
l.push(e)}return l}})();
(function(){var n,p,l,e,q,o,c=Object.prototype.hasOwnProperty;q=typeof exports!=="undefined"&&exports!==null?exports:this;n=q.CoffeePot=typeof q.CoffeePot!=="undefined"&&q.CoffeePot!==null?q.CoffeePot:{};n.tokenize=typeof n.tokenize!=="undefined"&&n.tokenize!==null?n.tokenize:require("coffeepot/lexer").CoffeePot.tokenize;n.parse=typeof n.parse!=="undefined"&&n.parse!==null?n.parse:require("coffeepot/parser").CoffeePot.parse;l=[];o=function(j){j=n.tokenize(j);j=n.parse(j)[1][1][0];return e(j)};p={Root:function j(b){var h,
d,a,i,g,f,m,k;f=this(b);b=function(){h=[];d=l.pop();for(k in d)c.call(d,k)&&h.push(k);return h}();if(b.length>0){f="var "+b.join(", ")+";\n"+f;f="\n"+function(){a=[];i=f.split("\n");for(g=0;g<i.length;g++){m=i[g];a.push("  "+m)}return a}().join("\n")+"\n";f="(function () {"+f+"}());"}b=f;return j===this.constructor?this:b},Not:function j(b){b="!("+this(b)+")";return j===this.constructor?this:b},Block:function j(b){var h,d,a;a=this;l.push({});d=false;h=b.map(function(i){var g;g=i[0];h=a(i);h=function(){return g===
"COMMENT"?(d?"":"\n")+h:g==="If"?h:h+";"}();d=g==="COMMENT";return h});b=h=h.join("\n");return j===this.constructor?this:b},Property:function j(b,h){b=this(b)+"."+this(h);return j===this.constructor?this:b},Function:function j(b,h,d){var a,i,g;d=typeof d!=="undefined"&&d!==null?d:"";h=h[0]==="Block"?this(h):" return "+this(h)+"; ";h="function "+d+"("+function(){a=[];for(i=0;i<b.length;i++){g=b[i];a.push(g[1])}return a}().join(", ")+") {"+h+"}";return j===this.constructor?this:h},COMMENT:function j(b){b=
"//"+b;return j===this.constructor?this:b},STRING:function j(b){var h,d,a,i,g,f,m,k;if(b.match(/[^\\]?#{.*[^\\]}/)){g=[];f=0;for(a=b.length;f<a;){k=f;f=b.substr(f,a).indexOf("#{");console.log(f);if(f<0){f=a;g.push(JSON.stringify(b.substr(k,a-k)))}else{f+=k;g.push(JSON.stringify(b.substr(k,f-k)));f+=2;k=f;i=1;for(d=m=false;!d&&f<a;){h=b.substr(f,1);f++;if(h==="\\")f++;else if(m){if(h===m)m=false}else if(h==="{")i++;else if(h==="}"){i--;if(i===0)d=true}else if(h==='"'||h==="'")m=h}h=b.substr(k,f-k-
1);g.push(o(h))}}b=g.join(" + ");return j===this.constructor?this:b}else{b=JSON.stringify(b);return j===this.constructor?this:b}},If:function j(b,h){b="if ("+this(b)+") { "+this(h)+"; }";return j===this.constructor?this:b},Assign:function j(b,h){var d;if(b[0]==="ID"){d=b[1];h[0]==="Function"&&(h[3]=d);l[l.length-1][d]=true}b=this(b)+" = "+this(h);return j===this.constructor?this:b},Source:function j(b){var h,d,a,i;h=function(){d=[];for(a=0;a<b.length;a++){i=b[a];d.push(i[1])}return d}().join("");
return j===this.constructor?this:h},Call:function j(b,h,d){var a;a=this;d=d.map(function(i){return a(i)});h=this(h)+"("+d.join(", ")+")";b=b?this(b)+"."+h:h;return j===this.constructor?this:b},ExpressionList:function j(b){var h,d,a,i,g;g=this;h=function(){d=[];for(a=0;a<b.length;a++){i=b[a];d.push(g(i))}return d}().join(", ");return j===this.constructor?this:h},Compound:function j(b){var h,d,a,i;h=function(g){d=[];for(a=0;a<b.length;a++){i=b[a];d.push(g(i))}return d}(this).join("");return j===this.constructor?
this:h},Binop:function j(b,h,d){var a,i,g,f;g=this(h);f=this(d);h=function(){if(b==="?"){a="(typeof "+g+' !== "undefined" && '+g+" !== null) ? "+g+" : "+f;return j===this.constructor?this:a}else{if(b==="==")b="===";else if(b==="!=")b="!==";i=g+" "+b+" "+f;return j===this.constructor?this:i}}();return j===this.constructor?this:h},Array:function j(b){var h,d,a,i,g;g=this;h="["+function(){d=[];for(a=0;a<b.length;a++){i=b[a];d.push(g(i))}return d}().join(", ")+"]";return j===this.constructor?this:h},
Object:function j(b){var h,d,a,i,g;g=this;a="{\n  "+function(){h=[];for(d=0;d<b.length;d++){i=b[d];h.push(g(i[0])+": "+g(i[1]))}return h}().join(",\n  ")+"\n}";return j===this.constructor?this:a}};e=function j(b){var h,d;if(!b)return"";d=b[0];h=Array.prototype.slice.call(b,1);return p[d]?p[d].apply(j,h):typeof d==="string"&&d.match(/^[A-Z]+$/)?h[0]:JSON.stringify(b)};n.generate=e})();
(function(){var n,p;p=typeof exports!=="undefined"&&exports!==null?exports:this;n=p.CoffeePot=typeof p.CoffeePot!=="undefined"&&p.CoffeePot!==null?p.CoffeePot:{};n.tokenize=typeof n.tokenize!=="undefined"&&n.tokenize!==null?n.tokenize:require("coffeepot/lexer").CoffeePot.tokenize;n.parse=typeof n.parse!=="undefined"&&n.parse!==null?n.parse:require("coffeepot/parser").CoffeePot.parse;n.generate=typeof n.generate!=="undefined"&&n.generate!==null?n.generate:require("coffeepot/generator").CoffeePot.generate;
n.compile=function(l){var e,q,o,c,j,b,h;b=n.tokenize(l);try{o=n.parse(b)}catch(d){e=d.message.split("\n");o=e[0];c=e[1];c=parseInt(c)-1;if(j=b[c]){q=j[1]&&j[1][1]+1;e=l.substr(0,j[1][0]).match(/\n?.*$/)[0];l=l.substr(j[1][0],l.length).match(/^.*\n?/)[0];h=b.slice(0,c).filter(function(a){return a[1]&&a[1][1]===q-1});h=h.map(function(a){return a[0]});b=b.slice(c,b.length).filter(function(a){return a[1]&&a[1][1]===q-1});b=b.map(function(a){return a[0]});d.message=o+"\nbut found '"+j[0]+"'\nLine "+q+
": "+JSON.stringify(e)+" !! "+JSON.stringify(l)+"'\nTokens "+JSON.stringify(h)+" !! "+JSON.stringify(b)}throw d;}return n.generate(o)}})();
