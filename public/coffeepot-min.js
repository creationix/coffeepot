(function(){var m,o,l,e,q,n,g,r,i,c=Object.prototype.hasOwnProperty;o=typeof exports!=="undefined"&&exports!==null?exports:this;o=o.CoffeePot=typeof o.CoffeePot!=="undefined"&&o.CoffeePot!==null?o.CoffeePot:{};m=["true","false","yes","no","on","off"];e=["if","else","then","unless","and","or","is","isnt","not","new","return","try","catch","finally","throw","break","continue","for","in","of","by","where","while","switch","when","super","extends","arguments","var","delete","instanceof","typeof"];l=["COMMENT",
"ID","PROPERTY","OPERATOR","NUMBER","BOOLEAN","RAW","HEREDOC","STRING","REGEX"];q={CODE:/^([\(\)\[\]\{\}:=;,.])/,NEWLINE:/^([ \t]*\n)/,WS:/^([ \t]+)/,COMMENT:/^(#.*)\n?/,ID:/^([a-z_$][a-z0-9_$]*)/i,ROCKET:/^(=>)/,OPERATOR:/^([+\*&|\/\-%=<>!?]+)/,DOTDOTDOT:/^(\.\.\.)/,DOTDOT:/^(\.\.)/,NUMBER:function b(a){var f;if(!a[0].match(/[0-9.-]/))return null;a=!isNaN(f=parseInt(a)||parseFloat(a))?{"1":f+""}:null;return b===this.constructor?this:a},JS:function b(a){var f,h,d;if(a[0]!=="`")return null;d=1;h=a.length+
1;for(f=false;!f&&d<h;){a[d]==="`"&&(f=true);a[d]==="\\"&&d++;d++}a=d>=h?null:{"1":a.substr(0,d)};return b===this.constructor?this:a},HEREDOC:function b(a){var f,h,d,j;if(!(j=a.match(/^("""|''')\n/)))return null;j=j[1];d=3;h=a.length+1;for(f=false;!f&&d<h;){if(a.substr(d,3)===j){f=true;d+=2}d++}a=d>=h?null:{"1":a.substr(0,d)};return b===this.constructor?this:a},STRING:function b(a){var f,h,d,j;j=a[0];if(!(j==='"'||j==="'"))return null;d=1;h=a.length+1;for(f=false;!f&&d<h;){a[d]===j&&(f=true);a[d]===
"\\"&&d++;d++}a=d>=h?null:{"1":a.substr(0,d)};return b===this.constructor?this:a},REGEX:function b(a){var f,h,d;if(a[0]!=="/")return null;d=1;h=a.length+1;for(f=false;!f&&d<h;)try{eval(a.substr(0,d));f=true}catch(j){d++}a=d>=h?null:{"1":a.substr(0,d)};return b===this.constructor?this:a}};i=[];g=function(b){var a,f,h,d;d=null;for(h in q){f=q[h];if(c.call(q,h))(a=f(b))&&(d===null||a[1].length>d[1].length)&&(d=[h,a[1]])}if(d)return d;else{debug(inspect(i));throw new Error("Unknown Token: "+JSON.stringify(b.split("\n")[0]));
}};r=function(b){return Helper.block_trim(b.substr(4,b.length-7))};n=function(b,a){var f,h,d,j,p,k,s;j=[];p=[""];h=-1;for(f=0;f<b.length;f++){k=b[f];d=b[h];h++;if(d&&d[0]==="NEWLINE"){if(k[0]==="NEWLINE")continue;s=p[p.length-1];for(d=k[0]==="WS"?k[2]:"";d.length<s.length;){if(d!==s.substr(0,d.length))throw new Error("Indentation mismatch");j.push(["DEDENT",k[1],s]);j.push(["NEWLINE",k[1]]);p.pop();s=p[p.length-1]}if(d.length>s.length){if(s!==d.substr(0,s.length))throw new Error("Indentation mismatch");
j.pop();j.push(["INDENT",k[1],d]);p.push(d)}if(d.length===s.length&&d!==s)throw new Error("Indentation mismatch");}if(k[0]==="ID")if(e.indexOf(k[2])>=0)k[0]=k[2];else if((d=m.indexOf(k[2]))>=0){k[0]="BOOLEAN";k[2]=d%2===0}k[0]==="STRING"&&(k[2]=function(){try{return JSON.parse(k[2].replace(/\n/g,"\\n"))}catch(t){return k[2]}}());if(k[0]==="HEREDOC"){k[2]=r(k[2]);k[0]="STRING"}k[0]==="COMMENT"&&(k[2]=k[2].substr(1,k[2].length));k[0]==="CODE"&&(k[0]=k[2]);l.indexOf(k[0])<0&&(k.length=2);k[0]!=="WS"&&
j.push(k)}for(;p.length>1;){f=[b.length,a.split("\n").length];j.push(["DEDENT",f,p.pop()]);j.push(["NEWLINE",f])}return j};o.tokenize=function(b){var a,f,h,d,j;b+="\n";f=b.length;d=0;for(i=[];d<f;){a=g(b.substr(d,f));j=a[0];h=a[1];a=b.substr(0,d).replace(/[^\n]/g,"").length;i.push([j,[d,a],h]);d+=h.length}return n(i,b)}})();
(function(){var m=function(){var o={log:function(){this.DEBUG&&puts(JSON.stringify(Array.prototype.slice.call(arguments)))},yy:{},symbols_:{Root:2,Block:3,Statement:4,NEWLINE:5,Expression:6,"if":7,unless:8,COMMENT:9,Literal:10,Source:11,Assign:12,Function:13,Binop:14,Array:15,Object:16,Call:17,Id:18,"(":19,")":20,".":21,ExpressionList:22,",":23,Operator:24,"[":25,ArrayItems:26,"]":27,INDENT:28,DEDENT:29,"{":30,ObjectItems:31,"}":32,ObjectItem:33,":":34,String:35,OPERATOR:36,NUMBER:37,BOOLEAN:38,REGEX:39,
STRING:40,"=":41,Property:42,FunctionBody:43,ROCKET:44,Splat:45,VarListItem:46,VarList:47,DOTDOTDOT:48,ID:49,$accept:0,$end:1},terminals_:{"5":"NEWLINE","7":"if","8":"unless","9":"COMMENT","19":"(","20":")","21":".","23":",","25":"[","27":"]","28":"INDENT","29":"DEDENT","30":"{","32":"}","34":":","35":"String","36":"OPERATOR","37":"NUMBER","38":"BOOLEAN","39":"REGEX","40":"STRING","41":"=","44":"ROCKET","48":"DOTDOTDOT","49":"ID"},productions_:[0,[2,1],[2,0],[3,2],[3,3],[4,3],[4,3],[4,1],[4,1],[6,
1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[17,3],[17,5],[17,4],[17,6],[22,1],[22,3],[14,3],[15,3],[15,7],[26,1],[26,3],[26,3],[16,3],[16,7],[33,3],[33,3],[31,1],[31,3],[31,3],[24,1],[10,1],[10,1],[10,1],[10,1],[12,3],[12,3],[42,3],[11,1],[11,3],[11,4],[43,1],[43,3],[43,0],[13,2],[13,3],[13,5],[46,1],[46,1],[47,1],[47,3],[45,2],[18,1]],performAction:function(l,e,q,n,g){e=g.length;switch(n){case 1:return this.$=["Root",["Block",g[e-1+1-1]]];case 2:return this.$=false;case 3:this.$=[g[e-2+1-1]];break;
case 4:this.$=g[e-3+1-1].concat([g[e-3+2-1]]);break;case 5:this.$=["If",g[e-3+3-1],g[e-3+1-1]];break;case 6:this.$=["If",["Not",g[e-3+3-1]],g[e-3+1-1]];break;case 7:this.$=g[e-1+1-1];break;case 8:this.$=["COMMENT",l];break;case 9:this.$=g[e-1+1-1];break;case 10:this.$=g[e-1+1-1];break;case 11:this.$=g[e-1+1-1];break;case 12:this.$=g[e-1+1-1];break;case 13:this.$=g[e-1+1-1];break;case 14:this.$=g[e-1+1-1];break;case 15:this.$=g[e-1+1-1];break;case 16:this.$=g[e-1+1-1];break;case 17:this.$=["Call",
null,g[e-3+1-1],[]];break;case 18:this.$=["Call",g[e-5+1-1],g[e-5+3-1],[]];break;case 19:this.$=["Call",null,g[e-4+1-1],g[e-4+3-1]];break;case 20:this.$=["Call",g[e-6+1-1],g[e-6+3-1],g[e-6+5-1]];break;case 21:this.$=[g[e-1+1-1]];break;case 22:this.$=g[e-3+1-1].concat([g[e-3+3-1]]);break;case 23:this.$=["Binop",g[e-3+2-1],g[e-3+1-1],g[e-3+3-1]];break;case 24:this.$=["Array",g[e-3+2-1]];break;case 25:this.$=["Array",g[e-7+3-1]];break;case 26:this.$=[g[e-1+1-1]];break;case 27:this.$=g[e-3+1-1].concat([g[e-
3+3-1]]);break;case 28:this.$=g[e-3+1-1].concat([g[e-3+3-1]]);break;case 29:this.$=["Object",g[e-3+2-1]];break;case 30:this.$=["Object",g[e-7+3-1]];break;case 31:this.$=[g[e-3+1-1],g[e-3+3-1]];break;case 32:this.$=[g[e-3+1-1],g[e-3+3-1]];break;case 33:this.$=[g[e-1+1-1]];break;case 34:this.$=g[e-3+1-1].concat([g[e-3+3-1]]);break;case 35:this.$=g[e-3+1-1].concat([g[e-3+3-1]]);break;case 36:this.$=l;break;case 37:this.$=["NUMBER",l];break;case 38:this.$=["BOOLEAN",l];break;case 39:this.$=["REGEX",l];
break;case 40:this.$=["STRING",l];break;case 41:this.$=["Assign",g[e-3+1-1],g[e-3+3-1]];break;case 42:this.$=["Assign",g[e-3+1-1],g[e-3+3-1]];break;case 43:this.$=["Property",[]];break;case 44:this.$=g[e-1+1-1];break;case 45:this.$=["Property",g[e-3+1-1],g[e-3+3-1]];break;case 46:this.$=["Property",g[e-4+1-1],3];break;case 47:this.$=g[e-1+1-1];break;case 48:this.$=["Block",g[e-3+2-1]];break;case 49:this.$=false;break;case 50:this.$=["Function",[],g[e-2+2-1]];break;case 51:this.$=["Function",[g[e-
3+1-1]],g[e-3+3-1]];break;case 52:this.$=["Function",[g[e-5+1-1],g[e-5+3-1]],g[e-5+5-1]];break;case 53:this.$=g[e-1+1-1];break;case 54:this.$=g[e-1+1-1];break;case 55:this.$=[g[e-1+1-1]];break;case 56:this.$=g[e-3+1-1].concat(g[e-3+3-1]);break;case 57:this.$=["Splat",g[e-2+1-1][1]];break;case 58:this.$=["ID",l];break}},table:[{"1":[[2,2]],"2":1,"3":2,"4":3,"6":4,"9":[[1,5]],"10":6,"11":7,"12":8,"13":9,"14":10,"15":11,"16":12,"17":13,"18":18,"25":[[1,20]],"30":[[1,21]],"37":[[1,14]],"38":[[1,15]],
"39":[[1,16]],"40":[[1,17]],"44":[[1,19]],"49":[[1,22]]},{"1":[[3]]},{"1":[[2,1]],"4":23,"6":4,"9":[[1,5]],"10":6,"11":7,"12":8,"13":9,"14":10,"15":11,"16":12,"17":13,"18":18,"25":[[1,20]],"30":[[1,21]],"37":[[1,14]],"38":[[1,15]],"39":[[1,16]],"40":[[1,17]],"44":[[1,19]],"49":[[1,22]]},{"5":[[1,24]]},{"5":[[2,7]],"7":[[1,25]],"8":[[1,26]],"21":[[1,28]],"24":27,"36":[[1,29]]},{"5":[[2,8]]},{"5":[[2,9]],"7":[[2,9]],"8":[[2,9]],"20":[[2,9]],"21":[[2,9]],"23":[[2,9]],"27":[[2,9]],"32":[[2,9]],"36":[[2,
9]]},{"5":[[2,10]],"7":[[2,10]],"8":[[2,10]],"20":[[2,10]],"21":[[1,30]],"23":[[2,10]],"25":[[1,31]],"27":[[2,10]],"32":[[2,10]],"34":[[1,32]],"36":[[2,10]],"41":[[1,33]]},{"5":[[2,11]],"7":[[2,11]],"8":[[2,11]],"20":[[2,11]],"21":[[2,11]],"23":[[2,11]],"27":[[2,11]],"32":[[2,11]],"36":[[2,11]]},{"5":[[2,12]],"7":[[2,12]],"8":[[2,12]],"20":[[2,12]],"21":[[2,12]],"23":[[2,12]],"27":[[2,12]],"32":[[2,12]],"36":[[2,12]]},{"5":[[2,13]],"7":[[2,13]],"8":[[2,13]],"20":[[2,13]],"21":[[2,13]],"23":[[2,13]],
"27":[[2,13]],"32":[[2,13]],"36":[[2,13]]},{"5":[[2,14]],"7":[[2,14]],"8":[[2,14]],"20":[[2,14]],"21":[[2,14]],"23":[[2,14]],"27":[[2,14]],"32":[[2,14]],"36":[[2,14]]},{"5":[[2,15]],"7":[[2,15]],"8":[[2,15]],"20":[[2,15]],"21":[[2,15]],"23":[[2,15]],"27":[[2,15]],"32":[[2,15]],"36":[[2,15]]},{"5":[[2,16]],"7":[[2,16]],"8":[[2,16]],"20":[[2,16]],"21":[[2,16]],"23":[[2,16]],"27":[[2,16]],"32":[[2,16]],"36":[[2,16]]},{"5":[[2,37]],"7":[[2,37]],"8":[[2,37]],"20":[[2,37]],"21":[[2,37]],"23":[[2,37]],"27":[[2,
37]],"32":[[2,37]],"36":[[2,37]]},{"5":[[2,38]],"7":[[2,38]],"8":[[2,38]],"20":[[2,38]],"21":[[2,38]],"23":[[2,38]],"27":[[2,38]],"32":[[2,38]],"36":[[2,38]]},{"5":[[2,39]],"7":[[2,39]],"8":[[2,39]],"20":[[2,39]],"21":[[2,39]],"23":[[2,39]],"27":[[2,39]],"32":[[2,39]],"36":[[2,39]]},{"5":[[2,40]],"7":[[2,40]],"8":[[2,40]],"20":[[2,40]],"21":[[2,40]],"23":[[2,40]],"27":[[2,40]],"32":[[2,40]],"36":[[2,40]]},{"5":[[2,44]],"7":[[2,44]],"8":[[2,44]],"19":[[1,36]],"20":[[2,44]],"21":[[2,44]],"23":[[1,35]],
"25":[[2,44]],"27":[[2,44]],"32":[[2,44]],"34":[[2,44]],"36":[[2,44]],"41":[[2,44]],"44":[[1,34]]},{"5":[[2,49]],"6":38,"7":[[2,49]],"8":[[2,49]],"10":6,"11":7,"12":8,"13":9,"14":10,"15":11,"16":12,"17":13,"18":18,"20":[[2,49]],"21":[[2,49]],"23":[[2,49]],"25":[[1,20]],"27":[[2,49]],"28":[[1,39]],"30":[[1,21]],"32":[[2,49]],"36":[[2,49]],"37":[[1,14]],"38":[[1,15]],"39":[[1,16]],"40":[[1,17]],"43":37,"44":[[1,19]],"49":[[1,22]]},{"6":42,"10":6,"11":7,"12":8,"13":9,"14":10,"15":11,"16":12,"17":13,
"18":18,"25":[[1,20]],"26":40,"28":[[1,41]],"30":[[1,21]],"37":[[1,14]],"38":[[1,15]],"39":[[1,16]],"40":[[1,17]],"44":[[1,19]],"49":[[1,22]]},{"18":46,"28":[[1,44]],"31":43,"33":45,"35":[[1,47]],"49":[[1,22]]},{"5":[[2,58]],"7":[[2,58]],"8":[[2,58]],"19":[[2,58]],"20":[[2,58]],"21":[[2,58]],"23":[[2,58]],"25":[[2,58]],"27":[[2,58]],"32":[[2,58]],"34":[[2,58]],"36":[[2,58]],"41":[[2,58]],"44":[[2,58]],"48":[[2,58]]},{"5":[[1,48]]},{"1":[[2,3]],"9":[[2,3]],"25":[[2,3]],"29":[[2,3]],"30":[[2,3]],"37":[[2,
3]],"38":[[2,3]],"39":[[2,3]],"40":[[2,3]],"44":[[2,3]],"49":[[2,3]]},{"6":49,"10":6,"11":7,"12":8,"13":9,"14":10,"15":11,"16":12,"17":13,"18":18,"25":[[1,20]],"30":[[1,21]],"37":[[1,14]],"38":[[1,15]],"39":[[1,16]],"40":[[1,17]],"44":[[1,19]],"49":[[1,22]]},{"6":50,"10":6,"11":7,"12":8,"13":9,"14":10,"15":11,"16":12,"17":13,"18":18,"25":[[1,20]],"30":[[1,21]],"37":[[1,14]],"38":[[1,15]],"39":[[1,16]],"40":[[1,17]],"44":[[1,19]],"49":[[1,22]]},{"6":51,"10":6,"11":7,"12":8,"13":9,"14":10,"15":11,"16":12,
"17":13,"18":18,"25":[[1,20]],"30":[[1,21]],"37":[[1,14]],"38":[[1,15]],"39":[[1,16]],"40":[[1,17]],"44":[[1,19]],"49":[[1,22]]},{"18":52,"49":[[1,22]]},{"25":[[2,36]],"30":[[2,36]],"37":[[2,36]],"38":[[2,36]],"39":[[2,36]],"40":[[2,36]],"44":[[2,36]],"49":[[2,36]]},{"18":53,"49":[[1,22]]},{"6":54,"10":6,"11":7,"12":8,"13":9,"14":10,"15":11,"16":12,"17":13,"18":18,"25":[[1,20]],"30":[[1,21]],"37":[[1,14]],"38":[[1,15]],"39":[[1,16]],"40":[[1,17]],"44":[[1,19]],"49":[[1,22]]},{"6":55,"10":6,"11":7,
"12":8,"13":9,"14":10,"15":11,"16":12,"17":13,"18":18,"25":[[1,20]],"30":[[1,21]],"37":[[1,14]],"38":[[1,15]],"39":[[1,16]],"40":[[1,17]],"44":[[1,19]],"49":[[1,22]]},{"6":56,"10":6,"11":7,"12":8,"13":9,"14":10,"15":11,"16":12,"17":13,"18":18,"25":[[1,20]],"30":[[1,21]],"37":[[1,14]],"38":[[1,15]],"39":[[1,16]],"40":[[1,17]],"44":[[1,19]],"49":[[1,22]]},{"5":[[2,49]],"6":38,"7":[[2,49]],"8":[[2,49]],"10":6,"11":7,"12":8,"13":9,"14":10,"15":11,"16":12,"17":13,"18":18,"20":[[2,49]],"21":[[2,49]],"23":[[2,
49]],"25":[[1,20]],"27":[[2,49]],"28":[[1,39]],"30":[[1,21]],"32":[[2,49]],"36":[[2,49]],"37":[[1,14]],"38":[[1,15]],"39":[[1,16]],"40":[[1,17]],"43":57,"44":[[1,19]],"49":[[1,22]]},{"18":59,"45":58,"49":[[1,22]]},{"6":62,"10":6,"11":7,"12":8,"13":9,"14":10,"15":11,"16":12,"17":13,"18":18,"20":[[1,60]],"22":61,"25":[[1,20]],"30":[[1,21]],"37":[[1,14]],"38":[[1,15]],"39":[[1,16]],"40":[[1,17]],"44":[[1,19]],"49":[[1,22]]},{"5":[[2,50]],"7":[[2,50]],"8":[[2,50]],"20":[[2,50]],"21":[[2,50]],"23":[[2,
50]],"27":[[2,50]],"32":[[2,50]],"36":[[2,50]]},{"5":[[2,47]],"7":[[2,47]],"8":[[2,47]],"20":[[2,47]],"21":[[1,28]],"23":[[2,47]],"24":27,"27":[[2,47]],"32":[[2,47]],"36":[[1,29]]},{"3":63,"4":3,"6":4,"9":[[1,5]],"10":6,"11":7,"12":8,"13":9,"14":10,"15":11,"16":12,"17":13,"18":18,"25":[[1,20]],"30":[[1,21]],"37":[[1,14]],"38":[[1,15]],"39":[[1,16]],"40":[[1,17]],"44":[[1,19]],"49":[[1,22]]},{"5":[[1,66]],"23":[[1,65]],"27":[[1,64]]},{"6":42,"10":6,"11":7,"12":8,"13":9,"14":10,"15":11,"16":12,"17":13,
"18":18,"25":[[1,20]],"26":67,"30":[[1,21]],"37":[[1,14]],"38":[[1,15]],"39":[[1,16]],"40":[[1,17]],"44":[[1,19]],"49":[[1,22]]},{"5":[[2,26]],"21":[[1,28]],"23":[[2,26]],"24":27,"27":[[2,26]],"36":[[1,29]]},{"5":[[1,70]],"23":[[1,69]],"32":[[1,68]]},{"18":46,"31":71,"33":45,"35":[[1,47]],"49":[[1,22]]},{"5":[[2,33]],"23":[[2,33]],"32":[[2,33]]},{"34":[[1,72]]},{"34":[[1,73]]},{"1":[[2,4]],"9":[[2,4]],"25":[[2,4]],"29":[[2,4]],"30":[[2,4]],"37":[[2,4]],"38":[[2,4]],"39":[[2,4]],"40":[[2,4]],"44":[[2,
4]],"49":[[2,4]]},{"5":[[2,5]],"21":[[1,28]],"24":27,"36":[[1,29]]},{"5":[[2,6]],"21":[[1,28]],"24":27,"36":[[1,29]]},{"5":[[2,23]],"7":[[2,23]],"8":[[2,23]],"20":[[2,23]],"21":[[1,28]],"23":[[2,23]],"24":27,"27":[[2,23]],"32":[[2,23]],"36":[[1,29]]},{"19":[[1,74]]},{"5":[[2,45]],"7":[[2,45]],"8":[[2,45]],"20":[[2,45]],"21":[[2,45]],"23":[[2,45]],"25":[[2,45]],"27":[[2,45]],"32":[[2,45]],"34":[[2,45]],"36":[[2,45]],"41":[[2,45]]},{"21":[[1,28]],"24":27,"27":[[1,75]],"36":[[1,29]]},{"5":[[2,41]],"7":[[2,
41]],"8":[[2,41]],"20":[[2,41]],"21":[[1,28]],"23":[[2,41]],"24":27,"27":[[2,41]],"32":[[2,41]],"36":[[1,29]]},{"5":[[2,42]],"7":[[2,42]],"8":[[2,42]],"20":[[2,42]],"21":[[1,28]],"23":[[2,42]],"24":27,"27":[[2,42]],"32":[[2,42]],"36":[[1,29]]},{"5":[[2,51]],"7":[[2,51]],"8":[[2,51]],"20":[[2,51]],"21":[[2,51]],"23":[[2,51]],"27":[[2,51]],"32":[[2,51]],"36":[[2,51]]},{"44":[[1,76]]},{"48":[[1,77]]},{"5":[[2,17]],"7":[[2,17]],"8":[[2,17]],"20":[[2,17]],"21":[[2,17]],"23":[[2,17]],"27":[[2,17]],"32":[[2,
17]],"36":[[2,17]]},{"20":[[1,78]],"23":[[1,79]]},{"20":[[2,21]],"21":[[1,28]],"23":[[2,21]],"24":27,"36":[[1,29]]},{"4":23,"6":4,"9":[[1,5]],"10":6,"11":7,"12":8,"13":9,"14":10,"15":11,"16":12,"17":13,"18":18,"25":[[1,20]],"29":[[1,80]],"30":[[1,21]],"37":[[1,14]],"38":[[1,15]],"39":[[1,16]],"40":[[1,17]],"44":[[1,19]],"49":[[1,22]]},{"5":[[2,24]],"7":[[2,24]],"8":[[2,24]],"20":[[2,24]],"21":[[2,24]],"23":[[2,24]],"27":[[2,24]],"32":[[2,24]],"36":[[2,24]]},{"6":81,"10":6,"11":7,"12":8,"13":9,"14":10,
"15":11,"16":12,"17":13,"18":18,"25":[[1,20]],"30":[[1,21]],"37":[[1,14]],"38":[[1,15]],"39":[[1,16]],"40":[[1,17]],"44":[[1,19]],"49":[[1,22]]},{"6":82,"10":6,"11":7,"12":8,"13":9,"14":10,"15":11,"16":12,"17":13,"18":18,"25":[[1,20]],"30":[[1,21]],"37":[[1,14]],"38":[[1,15]],"39":[[1,16]],"40":[[1,17]],"44":[[1,19]],"49":[[1,22]]},{"5":[[1,83]],"23":[[1,65]]},{"5":[[2,29]],"7":[[2,29]],"8":[[2,29]],"20":[[2,29]],"21":[[2,29]],"23":[[2,29]],"27":[[2,29]],"32":[[2,29]],"36":[[2,29]]},{"18":46,"33":84,
"35":[[1,47]],"49":[[1,22]]},{"18":46,"33":85,"35":[[1,47]],"49":[[1,22]]},{"5":[[1,86]],"23":[[1,69]]},{"6":87,"10":6,"11":7,"12":8,"13":9,"14":10,"15":11,"16":12,"17":13,"18":18,"25":[[1,20]],"30":[[1,21]],"37":[[1,14]],"38":[[1,15]],"39":[[1,16]],"40":[[1,17]],"44":[[1,19]],"49":[[1,22]]},{"6":88,"10":6,"11":7,"12":8,"13":9,"14":10,"15":11,"16":12,"17":13,"18":18,"25":[[1,20]],"30":[[1,21]],"37":[[1,14]],"38":[[1,15]],"39":[[1,16]],"40":[[1,17]],"44":[[1,19]],"49":[[1,22]]},{"6":62,"10":6,"11":7,
"12":8,"13":9,"14":10,"15":11,"16":12,"17":13,"18":18,"20":[[1,89]],"22":90,"25":[[1,20]],"30":[[1,21]],"37":[[1,14]],"38":[[1,15]],"39":[[1,16]],"40":[[1,17]],"44":[[1,19]],"49":[[1,22]]},{"5":[[2,46]],"7":[[2,46]],"8":[[2,46]],"20":[[2,46]],"21":[[2,46]],"23":[[2,46]],"25":[[2,46]],"27":[[2,46]],"32":[[2,46]],"34":[[2,46]],"36":[[2,46]],"41":[[2,46]]},{"5":[[2,49]],"6":38,"7":[[2,49]],"8":[[2,49]],"10":6,"11":7,"12":8,"13":9,"14":10,"15":11,"16":12,"17":13,"18":18,"20":[[2,49]],"21":[[2,49]],"23":[[2,
49]],"25":[[1,20]],"27":[[2,49]],"28":[[1,39]],"30":[[1,21]],"32":[[2,49]],"36":[[2,49]],"37":[[1,14]],"38":[[1,15]],"39":[[1,16]],"40":[[1,17]],"43":91,"44":[[1,19]],"49":[[1,22]]},{"44":[[2,57]]},{"5":[[2,19]],"7":[[2,19]],"8":[[2,19]],"20":[[2,19]],"21":[[2,19]],"23":[[2,19]],"27":[[2,19]],"32":[[2,19]],"36":[[2,19]]},{"6":92,"10":6,"11":7,"12":8,"13":9,"14":10,"15":11,"16":12,"17":13,"18":18,"25":[[1,20]],"30":[[1,21]],"37":[[1,14]],"38":[[1,15]],"39":[[1,16]],"40":[[1,17]],"44":[[1,19]],"49":[[1,
22]]},{"5":[[2,48]],"7":[[2,48]],"8":[[2,48]],"20":[[2,48]],"21":[[2,48]],"23":[[2,48]],"27":[[2,48]],"32":[[2,48]],"36":[[2,48]]},{"5":[[2,27]],"21":[[1,28]],"23":[[2,27]],"24":27,"27":[[2,27]],"36":[[1,29]]},{"5":[[2,28]],"21":[[1,28]],"23":[[2,28]],"24":27,"27":[[2,28]],"36":[[1,29]]},{"6":82,"10":6,"11":7,"12":8,"13":9,"14":10,"15":11,"16":12,"17":13,"18":18,"25":[[1,20]],"29":[[1,93]],"30":[[1,21]],"37":[[1,14]],"38":[[1,15]],"39":[[1,16]],"40":[[1,17]],"44":[[1,19]],"49":[[1,22]]},{"5":[[2,
34]],"23":[[2,34]],"32":[[2,34]]},{"5":[[2,35]],"23":[[2,35]],"32":[[2,35]]},{"18":46,"29":[[1,94]],"33":85,"35":[[1,47]],"49":[[1,22]]},{"5":[[2,31]],"21":[[1,28]],"23":[[2,31]],"24":27,"32":[[2,31]],"36":[[1,29]]},{"5":[[2,32]],"21":[[1,28]],"23":[[2,32]],"24":27,"32":[[2,32]],"36":[[1,29]]},{"5":[[2,18]],"7":[[2,18]],"8":[[2,18]],"20":[[2,18]],"21":[[2,18]],"23":[[2,18]],"27":[[2,18]],"32":[[2,18]],"36":[[2,18]]},{"20":[[1,95]],"23":[[1,79]]},{"5":[[2,52]],"7":[[2,52]],"8":[[2,52]],"20":[[2,52]],
"21":[[2,52]],"23":[[2,52]],"27":[[2,52]],"32":[[2,52]],"36":[[2,52]]},{"20":[[2,22]],"21":[[1,28]],"23":[[2,22]],"24":27,"36":[[1,29]]},{"5":[[1,96]]},{"5":[[1,97]]},{"5":[[2,20]],"7":[[2,20]],"8":[[2,20]],"20":[[2,20]],"21":[[2,20]],"23":[[2,20]],"27":[[2,20]],"32":[[2,20]],"36":[[2,20]]},{"27":[[1,98]]},{"32":[[1,99]]},{"5":[[2,25]],"7":[[2,25]],"8":[[2,25]],"20":[[2,25]],"21":[[2,25]],"23":[[2,25]],"27":[[2,25]],"32":[[2,25]],"36":[[2,25]]},{"5":[[2,30]],"7":[[2,30]],"8":[[2,30]],"20":[[2,30]],
"21":[[2,30]],"23":[[2,30]],"27":[[2,30]],"32":[[2,30]],"36":[[2,30]]}],parseError:function(l){throw new Error(l);},parse:function(l){function e(){var k;return(k=q.lexer.lex())?q.symbols_[k]:1}var q=this,n=[0],g=[null],r=this.table,i="",c=0;this.lexer.setInput(l);this.lexer.yy=this.yy;l=this.yy.parseError=this.yy.parseError||this.parseError;var b,a,f,h={},d,j,p=0;for(b=e();;){this.log("stack:",JSON.stringify(n),"\n\t\t\tinput:",this.lexer._input);this.log("vstack:",JSON.stringify(g));a=n[n.length-
1];f=r[a]&&r[a][b];if(typeof f=="undefined"||!f.length||!f[0]){j=[];for(d in r[a])this.terminals_[d]&&d!=1&&j.push("'"+this.terminals_[d]+"'");q.log("stack:",JSON.stringify(n),"symbol:",b,"input",this.lexer.upcomingInput());l("Parse error on line "+(c+1)+". Expecting: "+j.join(", ")+"\n"+this.lexer.showPosition(),{text:this.lexer.match,token:b,line:this.lexer.yylineno})}this.log("action:",f);if(f.length>1)throw new Error("Parse Error: multiple actions possible at state: "+a+", token: "+b);a=f[0];
switch(a[0]){case 1:n.push(b);++p;i=this.lexer.yytext;c=this.lexer.yylineno;b=e();g.push(null);n.push(a[1]);break;case 2:j=this.productions_[a[1]][1];this.log("reduce by: ",this.productions?this.productions[a[1]]:a[1]);h.$=g[g.length-j];f=this.performAction.call(h,i,c,this.yy,a[1],g);if(f!=undefined)return f;this.log("yyval=",JSON.stringify(h.$));if(j){this.log("production length:",j);n=n.slice(0,-1*j*2);g=g.slice(0,-1*j)}n.push(this.productions_[a[1]][0]);g.push(h.$);a=r[n[n.length-2]][n[n.length-
1]];n.push(a);break;case 3:this.log("stack:",n,"\n\tinput:",this.lexer._input);this.log("vstack:",JSON.stringify(g));return true}}return true}};o.lexer={lex:function(){var l;l=this.tokens[this.pos]||[""];this.pos++;this.yylineno=l&&l[1]&&l[1][1];this.yytext=l[2];return l[0]},setInput:function(l){this.tokens=l;return this.pos=0},upcomingInput:function(){return""},showPosition:function(){return this.pos}};return o}();root=typeof exports!=="undefined"&&exports!==null?exports:this;CoffeePot=root.CoffeePot=
typeof root.CoffeePot!=="undefined"&&root.CoffeePot!==null?root.CoffeePot:{};CoffeePot.parse=function(o){return m.parse(o)};if(!(typeof Object.keys!=="undefined"&&Object.keys!==null))return Object.keys=function(o){var l,e;l=[];for(e in o){value=o[e];__hasProp.call(o,e)&&l.push(e)}return l}})();
(function(){var m,o,l,e,q,n,g,r=Object.prototype.hasOwnProperty;n=typeof exports!=="undefined"&&exports!==null?exports:this;m=n.CoffeePot=typeof n.CoffeePot!=="undefined"&&n.CoffeePot!==null?n.CoffeePot:{};m.tokenize=typeof m.tokenize!=="undefined"&&m.tokenize!==null?m.tokenize:require("coffeepot/lexer").CoffeePot.tokenize;m.parse=typeof m.parse!=="undefined"&&m.parse!==null?m.parse:require("coffeepot/parser").CoffeePot.parse;e=[];l=function(i){var c,b,a,f;return function(){c=[];b=i.split("\n");for(a=
0;a<b.length;a++){f=b[a];c.push("  "+f)}return c}().join("\n")};g=function(i){i=m.tokenize(i);i=m.parse(i)[1][1][0];return q(i)};o={Root:function i(c){var b,a,f,h;c=this(c);h=function(){b=[];a=e.pop();for(f in a)r.call(a,f)&&b.push(f);return b}();if(h.length>0){c="var "+h.join(", ")+";\n"+c;c="\n"+l(c)+"\n";c="(function () {"+c+"}());"}c=c;return i===this.constructor?this:c},Not:function i(c){c="!("+this(c)+")";return i===this.constructor?this:c},Block:function i(c){var b,a,f;f=this;e.push({});a=
false;b=c.map(function(h){var d;d=h[0];b=f(h);b=function(){return d==="COMMENT"?(a?"":"\n")+b:d==="If"?b:b+";"}();a=d==="COMMENT";return b});c=b=b.join("\n");return i===this.constructor?this:c},Property:function i(c,b){c=this(c)+"."+this(b);return i===this.constructor?this:c},Function:function i(c,b,a){var f,h,d,j,p,k,s,t,u;a=typeof a!=="undefined"&&a!==null?a:"";b=function(v){if(b)if(b[0]==="Block"){e.push({});b=v(b);t=function(){f=[];h=e.pop();for(u in h)r.call(h,u)&&f.push(u);return f}();t.length>
0&&(b="var "+t.join(", ")+";\n"+b);d="\n"+l(b)+"\n";return i===this.constructor?this:d}else{j=" return "+v(b)+"; ";return i===this.constructor?this:j}else return i===this.constructor?this:""}(this);a="function "+a+"("+function(){p=[];for(k=0;k<c.length;k++){s=c[k];p.push(s[1])}return p}().join(", ")+") {"+b+"}";return i===this.constructor?this:a},COMMENT:function i(c){c="//"+c;return i===this.constructor?this:c},STRING:function i(c){var b,a,f,h,d,j,p,k;if(c.match(/[^\\]?#{.*[^\\]}/)){d=[];j=0;for(f=
c.length;j<f;){k=j;j=c.substr(j,f).indexOf("#{");console.log(j);if(j<0){j=f;d.push(JSON.stringify(c.substr(k,f-k)))}else{j+=k;d.push(JSON.stringify(c.substr(k,j-k)));j+=2;k=j;h=1;for(a=p=false;!a&&j<f;){b=c.substr(j,1);j++;if(b==="\\")j++;else if(p){if(b===p)p=false}else if(b==="{")h++;else if(b==="}"){h--;if(h===0)a=true}else if(b==='"'||b==="'")p=b}b=c.substr(k,j-k-1);d.push(g(b))}}c=d.join(" + ");return i===this.constructor?this:c}else{c=JSON.stringify(c);return i===this.constructor?this:c}},If:function i(c,
b){c="if ("+this(c)+") { "+this(b)+"; }";return i===this.constructor?this:c},Assign:function i(c,b){var a;if(c[0]==="ID"){a=c[1];b[0]==="Function"&&(b[3]=a);e[e.length-1][a]=true}c=this(c)+" = "+this(b);return i===this.constructor?this:c},Source:function i(c){var b,a,f,h;b=function(){a=[];for(f=0;f<c.length;f++){h=c[f];a.push(h[1])}return a}().join("");return i===this.constructor?this:b},Call:function i(c,b,a){var f;f=this;a=a.map(function(h){return f(h)});b=this(b)+"("+a.join(", ")+")";c=c?this(c)+
"."+b:b;return i===this.constructor?this:c},ExpressionList:function i(c){var b,a,f,h,d;d=this;b=function(){a=[];for(f=0;f<c.length;f++){h=c[f];a.push(d(h))}return a}().join(", ");return i===this.constructor?this:b},Compound:function i(c){var b,a,f,h;b=function(d){a=[];for(f=0;f<c.length;f++){h=c[f];a.push(d(h))}return a}(this).join("");return i===this.constructor?this:b},Binop:function i(c,b,a){var f,h,d,j;d=this(b);j=this(a);b=function(){if(c==="?"){f="(typeof "+d+' !== "undefined" && '+d+" !== null) ? "+
d+" : "+j;return i===this.constructor?this:f}else{if(c==="==")c="===";else if(c==="!=")c="!==";h=d+" "+c+" "+j;return i===this.constructor?this:h}}();return i===this.constructor?this:b},Array:function i(c){var b,a,f,h,d;d=this;b="["+function(){a=[];for(f=0;f<c.length;f++){h=c[f];a.push(d(h))}return a}().join(", ")+"]";return i===this.constructor?this:b},Object:function i(c){var b,a,f,h,d;d=this;f=function(){b=[];for(a=0;a<c.length;a++){h=c[a];b.push(d(h[0])+": "+d(h[1]))}return b}();f="{\n"+l(f.join(",\n"))+
"\n}";return i===this.constructor?this:f}};q=function i(c){var b,a;if(!c)return"";a=c[0];b=Array.prototype.slice.call(c,1);return o[a]?o[a].apply(i,b):typeof a==="string"&&a.match(/^[A-Z]+$/)?b[0]:JSON.stringify(c)};m.generate=q})();
(function(){var m,o;o=typeof exports!=="undefined"&&exports!==null?exports:this;m=o.CoffeePot=typeof o.CoffeePot!=="undefined"&&o.CoffeePot!==null?o.CoffeePot:{};m.tokenize=typeof m.tokenize!=="undefined"&&m.tokenize!==null?m.tokenize:require("coffeepot/lexer").CoffeePot.tokenize;m.parse=typeof m.parse!=="undefined"&&m.parse!==null?m.parse:require("coffeepot/parser").CoffeePot.parse;m.generate=typeof m.generate!=="undefined"&&m.generate!==null?m.generate:require("coffeepot/generator").CoffeePot.generate;
m.compile=function(l){var e,q,n,g,r,i,c;i=m.tokenize(l);try{n=m.parse(i)}catch(b){e=b.message.split("\n");n=e[0];g=e[1];g=parseInt(g)-1;if(r=i[g]){q=r[1]&&r[1][1]+1;e=l.substr(0,r[1][0]).match(/\n?.*$/)[0];l=l.substr(r[1][0],l.length).match(/^.*\n?/)[0];c=i.slice(0,g).filter(function(a){return a[1]&&a[1][1]===q-1});c=c.map(function(a){return a[0]});i=i.slice(g,i.length).filter(function(a){return a[1]&&a[1][1]===q-1});i=i.map(function(a){return a[0]});b.message=n+"\nbut found '"+r[0]+"'\nLine "+q+
": "+JSON.stringify(e)+" !! "+JSON.stringify(l)+"'\nTokens "+JSON.stringify(c)+" !! "+JSON.stringify(i)}throw b;}return m.generate(n)}})();
