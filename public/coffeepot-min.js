(function(){var l,o,q,p,r,k,f,s,g,a=Object.prototype.hasOwnProperty;o=typeof exports!=="undefined"&&exports!==null?exports:this;o=o.CoffeePot=typeof o.CoffeePot!=="undefined"&&o.CoffeePot!==null?o.CoffeePot:{};l=["true","false","yes","no","on","off"];p=["if","else","then","unless","and","or","is","isnt","not","new","return","try","catch","finally","throw","break","continue","for","in","of","by","where","while","switch","when","super","extends","arguments","var","delete","instanceof","typeof"];q=["COMMENT",
"ID","PROPERTY","OPERATOR","NUMBER","BOOLEAN","RAW","HEREDOC","STRING","REGEX"];r={CODE:/^([\(\)\[\]\{\}:=;,.])/,NEWLINE:/^([ \t]*\n)/,WS:/^([ \t]+)/,COMMENT:/^(#.*)\n?/,ID:/^([a-z_$][a-z0-9_$]*)/i,ARROW:/^(->)/,OPERATOR:/^([+\*&|\/\-%=<>!?]+)/,DOTDOTDOT:/^(\.\.\.)/,DOTDOT:/^(\.\.)/,NUMBER:function c(b){var e;if(!b[0].match(/[0-9.-]/))return null;b=!isNaN(e=parseInt(b)||parseFloat(b))?{"1":e+""}:null;return c===this.constructor?this:b},JS:function c(b){var e,h,d;if(b[0]!=="`")return null;d=1;h=b.length+
1;for(e=false;!e&&d<h;){b[d]==="`"&&(e=true);b[d]==="\\"&&d++;d++}b=d>=h?null:{"1":b.substr(0,d)};return c===this.constructor?this:b},HEREDOC:function c(b){var e,h,d,i;if(!(i=b.match(/^("""|''')\n/)))return null;i=i[1];d=3;h=b.length+1;for(e=false;!e&&d<h;){if(b.substr(d,3)===i){e=true;d+=2}d++}b=d>=h?null:{"1":b.substr(0,d)};return c===this.constructor?this:b},STRING:function c(b){var e,h,d,i;i=b[0];if(!(i==='"'||i==="'"))return null;d=1;h=b.length+1;for(e=false;!e&&d<h;){b[d]===i&&(e=true);b[d]===
"\\"&&d++;d++}b=d>=h?null:{"1":b.substr(0,d)};return c===this.constructor?this:b},REGEX:function c(b){var e,h,d;if(b[0]!=="/")return null;d=1;h=b.length+1;for(e=false;!e&&d<h;)try{eval(b.substr(0,d));e=true}catch(i){d++}b=d>=h?null:{"1":b.substr(0,d)};return c===this.constructor?this:b}};g=[];f=function(c){var b,e,h,d;d=null;for(h in r){e=r[h];if(a.call(r,h))(b=e(c))&&(d===null||b[1].length>d[1].length)&&(d=[h,b[1]])}if(d)return d;else{debug(inspect(g));throw new Error("Unknown Token: "+JSON.stringify(c.split("\n")[0]));
}};s=function(c){return Helper.block_trim(c.substr(4,c.length-7))};k=function(c,b){var e,h,d,i,m,j,n;i=[];m=[""];h=-1;for(e=0;e<c.length;e++){j=c[e];d=c[h];h++;if(d&&d[0]==="NEWLINE"){if(j[0]==="NEWLINE")continue;n=m[m.length-1];for(d=j[0]==="WS"?j[2]:"";d.length<n.length;){if(d!==n.substr(0,d.length))throw new Error("Indentation mismatch");i.push(["DEDENT",j[1],n]);i.push(["NEWLINE",j[1]]);m.pop();n=m[m.length-1]}if(d.length>n.length){if(n!==d.substr(0,n.length))throw new Error("Indentation mismatch");
i.pop();i.push(["INDENT",j[1],d]);m.push(d)}if(d.length===n.length&&d!==n)throw new Error("Indentation mismatch");}if(j[0]==="ID")if(p.indexOf(j[2])>=0)j[0]=j[2];else if((d=l.indexOf(j[2]))>=0){j[0]="BOOLEAN";j[2]=d%2===0}j[0]==="STRING"&&(j[2]=function(){try{return JSON.parse(j[2].replace(/\n/g,"\\n"))}catch(t){return j[2]}}.call(this));if(j[0]==="HEREDOC"){j[2]=s(j[2]);j[0]="STRING"}j[0]==="COMMENT"&&(j[2]=j[2].substr(1,j[2].length));j[0]==="CODE"&&(j[0]=j[2]);q.indexOf(j[0])<0&&(j.length=2);j[0]!==
"WS"&&i.push(j)}for(;m.length>1;){e=[c.length,b.split("\n").length];i.push(["DEDENT",e,m.pop()]);i.push(["NEWLINE",e])}return i};o.tokenize=function(c){var b,e,h,d,i;c+="\n";e=c.length;d=0;for(g=[];d<e;){b=f(c.substr(d,e));i=b[0];h=b[1];b=c.substr(0,d).replace(/[^\n]/g,"").length;g.push([i,[d,b],h]);d+=h.length}return k(g,c)}})();
(function(){var l=function(){var r={log:function(){this.DEBUG&&puts(JSON.stringify(Array.prototype.slice.call(arguments)))},yy:{},symbols_:{Root:2,Block:3,Statement:4,NEWLINE:5,Expression:6,"if":7,unless:8,COMMENT:9,Literal:10,Source:11,Assign:12,Function:13,Binop:14,Array:15,Object:16,Call:17,Id:18,CallArgs:19,".":20,ExpressionList:21,",":22,"(":23,")":24,Operator:25,"[":26,ArrayItems:27,"]":28,INDENT:29,DEDENT:30,"{":31,ObjectItems:32,"}":33,ObjectItem:34,":":35,String:36,OPERATOR:37,NUMBER:38,
BOOLEAN:39,REGEX:40,STRING:41,"=":42,Property:43,FunctionBody:44,ARROW:45,VarList:46,VarListItem:47,Splat:48,DOTDOTDOT:49,ID:50,$accept:0,$end:1},terminals_:{"5":"NEWLINE","7":"if","8":"unless","9":"COMMENT","20":".","22":",","23":"(","24":")","26":"[","28":"]","29":"INDENT","30":"DEDENT","31":"{","33":"}","35":":","36":"String","37":"OPERATOR","38":"NUMBER","39":"BOOLEAN","40":"REGEX","41":"STRING","42":"=","45":"ARROW","49":"DOTDOTDOT","50":"ID"},productions_:[0,[2,1],[2,0],[3,2],[3,3],[4,3],[4,
3],[4,1],[4,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[17,2],[17,4],[21,1],[21,3],[19,2],[19,1],[14,3],[15,3],[15,7],[27,1],[27,3],[27,3],[16,3],[16,7],[34,3],[34,3],[32,1],[32,3],[32,3],[25,1],[10,1],[10,1],[10,1],[10,1],[12,3],[12,3],[43,3],[11,1],[11,3],[11,4],[44,1],[44,3],[44,0],[13,2],[13,5],[47,1],[47,1],[46,1],[46,3],[48,2],[18,1]],performAction:function(k,f,s,g,a){f=a.length;switch(g){case 1:return this.$=["Root",["Block",a[f-1+1-1]]];case 2:return this.$=false;case 3:this.$=[a[f-
2+1-1]];break;case 4:this.$=a[f-3+1-1].concat([a[f-3+2-1]]);break;case 5:this.$=["If",a[f-3+3-1],a[f-3+1-1]];break;case 6:this.$=["If",["Not",a[f-3+3-1]],a[f-3+1-1]];break;case 7:this.$=a[f-1+1-1];break;case 8:this.$=["COMMENT",k];break;case 9:this.$=a[f-1+1-1];break;case 10:this.$=a[f-1+1-1];break;case 11:this.$=a[f-1+1-1];break;case 12:this.$=a[f-1+1-1];break;case 13:this.$=a[f-1+1-1];break;case 14:this.$=a[f-1+1-1];break;case 15:this.$=a[f-1+1-1];break;case 16:this.$=a[f-1+1-1];break;case 17:this.$=
["Call",null,a[f-2+1-1],a[f-2+2-1]];break;case 18:this.$=["Call",a[f-4+1-1],a[f-4+3-1],a[f-4+4-1]];break;case 19:this.$=[a[f-1+1-1]];break;case 20:this.$=a[f-3+1-1].concat([a[f-3+3-1]]);break;case 21:this.$=[];break;case 22:this.$=a[f-1+1-1];break;case 23:this.$=["Binop",a[f-3+2-1],a[f-3+1-1],a[f-3+3-1]];break;case 24:this.$=["Array",a[f-3+2-1]];break;case 25:this.$=["Array",a[f-7+3-1]];break;case 26:this.$=[a[f-1+1-1]];break;case 27:this.$=a[f-3+1-1].concat([a[f-3+3-1]]);break;case 28:this.$=a[f-
3+1-1].concat([a[f-3+3-1]]);break;case 29:this.$=["Object",a[f-3+2-1]];break;case 30:this.$=["Object",a[f-7+3-1]];break;case 31:this.$=[a[f-3+1-1],a[f-3+3-1]];break;case 32:this.$=[a[f-3+1-1],a[f-3+3-1]];break;case 33:this.$=[a[f-1+1-1]];break;case 34:this.$=a[f-3+1-1].concat([a[f-3+3-1]]);break;case 35:this.$=a[f-3+1-1].concat([a[f-3+3-1]]);break;case 36:this.$=k;break;case 37:this.$=["NUMBER",k];break;case 38:this.$=["BOOLEAN",k];break;case 39:this.$=["REGEX",k];break;case 40:this.$=["STRING",k];
break;case 41:this.$=["Assign",a[f-3+1-1],a[f-3+3-1]];break;case 42:this.$=["Assign",a[f-3+1-1],a[f-3+3-1]];break;case 43:this.$=["Property",[]];break;case 44:this.$=a[f-1+1-1];break;case 45:this.$=["Property",a[f-3+1-1],a[f-3+3-1]];break;case 46:this.$=["Property",a[f-4+1-1],3];break;case 47:this.$=a[f-1+1-1];break;case 48:this.$=["Block",a[f-3+2-1]];break;case 49:this.$=false;break;case 50:this.$=["Function",[],a[f-2+2-1]];break;case 51:this.$=["Function",a[f-5+2-1],a[f-5+5-1]];break;case 52:this.$=
a[f-1+1-1];break;case 53:this.$=a[f-1+1-1];break;case 54:this.$=[a[f-1+1-1]];break;case 55:this.$=a[f-3+1-1].concat([a[f-3+3-1]]);break;case 56:this.$=["Splat",a[f-2+1-1][1]];break;case 57:this.$=["ID",k];break}},table:[{"1":[[2,2]],"2":1,"3":2,"4":3,"6":4,"9":[[1,5]],"10":6,"11":7,"12":8,"13":9,"14":10,"15":11,"16":12,"17":13,"18":18,"23":[[1,20]],"26":[[1,21]],"31":[[1,22]],"38":[[1,14]],"39":[[1,15]],"40":[[1,16]],"41":[[1,17]],"45":[[1,19]],"50":[[1,23]]},{"1":[[3]]},{"1":[[2,1]],"4":24,"6":4,
"9":[[1,5]],"10":6,"11":7,"12":8,"13":9,"14":10,"15":11,"16":12,"17":13,"18":18,"23":[[1,20]],"26":[[1,21]],"31":[[1,22]],"38":[[1,14]],"39":[[1,15]],"40":[[1,16]],"41":[[1,17]],"45":[[1,19]],"50":[[1,23]]},{"5":[[1,25]]},{"5":[[2,7]],"7":[[1,26]],"8":[[1,27]],"20":[[1,29]],"25":28,"37":[[1,30]]},{"5":[[2,8]]},{"5":[[2,9]],"7":[[2,9]],"8":[[2,9]],"20":[[2,9]],"22":[[2,9]],"28":[[2,9]],"33":[[2,9]],"37":[[2,9]]},{"5":[[2,10]],"7":[[2,10]],"8":[[2,10]],"20":[[1,31]],"22":[[2,10]],"26":[[1,32]],"28":[[2,
10]],"33":[[2,10]],"35":[[1,33]],"37":[[2,10]],"42":[[1,34]]},{"5":[[2,11]],"7":[[2,11]],"8":[[2,11]],"20":[[2,11]],"22":[[2,11]],"28":[[2,11]],"33":[[2,11]],"37":[[2,11]]},{"5":[[2,12]],"7":[[2,12]],"8":[[2,12]],"20":[[2,12]],"22":[[2,12]],"28":[[2,12]],"33":[[2,12]],"37":[[2,12]]},{"5":[[2,13]],"7":[[2,13]],"8":[[2,13]],"20":[[2,13]],"22":[[2,13]],"28":[[2,13]],"33":[[2,13]],"37":[[2,13]]},{"5":[[2,14]],"7":[[2,14]],"8":[[2,14]],"20":[[2,14]],"22":[[2,14]],"28":[[2,14]],"33":[[2,14]],"37":[[2,14]]},
{"5":[[2,15]],"7":[[2,15]],"8":[[2,15]],"20":[[2,15]],"22":[[2,15]],"28":[[2,15]],"33":[[2,15]],"37":[[2,15]]},{"5":[[2,16]],"7":[[2,16]],"8":[[2,16]],"20":[[2,16]],"22":[[2,16]],"28":[[2,16]],"33":[[2,16]],"37":[[2,16]]},{"5":[[2,37]],"7":[[2,37]],"8":[[2,37]],"20":[[2,37]],"22":[[2,37]],"28":[[2,37]],"33":[[2,37]],"37":[[2,37]]},{"5":[[2,38]],"7":[[2,38]],"8":[[2,38]],"20":[[2,38]],"22":[[2,38]],"28":[[2,38]],"33":[[2,38]],"37":[[2,38]]},{"5":[[2,39]],"7":[[2,39]],"8":[[2,39]],"20":[[2,39]],"22":[[2,
39]],"28":[[2,39]],"33":[[2,39]],"37":[[2,39]]},{"5":[[2,40]],"7":[[2,40]],"8":[[2,40]],"20":[[2,40]],"22":[[2,40]],"28":[[2,40]],"33":[[2,40]],"37":[[2,40]]},{"5":[[2,44]],"6":38,"7":[[2,44]],"8":[[2,44]],"10":6,"11":7,"12":8,"13":9,"14":10,"15":11,"16":12,"17":13,"18":18,"19":35,"20":[[2,44]],"21":37,"22":[[2,44]],"23":[[1,36]],"26":[[1,21]],"28":[[2,44]],"31":[[1,22]],"33":[[2,44]],"35":[[2,44]],"37":[[2,44]],"38":[[1,14]],"39":[[1,15]],"40":[[1,16]],"41":[[1,17]],"42":[[2,44]],"45":[[1,19]],"50":[[1,
23]]},{"5":[[2,49]],"6":40,"7":[[2,49]],"8":[[2,49]],"10":6,"11":7,"12":8,"13":9,"14":10,"15":11,"16":12,"17":13,"18":18,"20":[[2,49]],"22":[[2,49]],"23":[[1,20]],"26":[[1,21]],"28":[[2,49]],"29":[[1,41]],"31":[[1,22]],"33":[[2,49]],"37":[[2,49]],"38":[[1,14]],"39":[[1,15]],"40":[[1,16]],"41":[[1,17]],"44":39,"45":[[1,19]],"50":[[1,23]]},{"18":44,"46":42,"47":43,"48":45,"50":[[1,23]]},{"6":48,"10":6,"11":7,"12":8,"13":9,"14":10,"15":11,"16":12,"17":13,"18":18,"23":[[1,20]],"26":[[1,21]],"27":46,"29":[[1,
47]],"31":[[1,22]],"38":[[1,14]],"39":[[1,15]],"40":[[1,16]],"41":[[1,17]],"45":[[1,19]],"50":[[1,23]]},{"18":52,"29":[[1,50]],"32":49,"34":51,"36":[[1,53]],"50":[[1,23]]},{"5":[[2,57]],"7":[[2,57]],"8":[[2,57]],"20":[[2,57]],"22":[[2,57]],"23":[[2,57]],"24":[[2,57]],"26":[[2,57]],"28":[[2,57]],"31":[[2,57]],"33":[[2,57]],"35":[[2,57]],"37":[[2,57]],"38":[[2,57]],"39":[[2,57]],"40":[[2,57]],"41":[[2,57]],"42":[[2,57]],"45":[[2,57]],"49":[[2,57]],"50":[[2,57]]},{"5":[[1,54]]},{"1":[[2,3]],"9":[[2,
3]],"23":[[2,3]],"26":[[2,3]],"30":[[2,3]],"31":[[2,3]],"38":[[2,3]],"39":[[2,3]],"40":[[2,3]],"41":[[2,3]],"45":[[2,3]],"50":[[2,3]]},{"6":55,"10":6,"11":7,"12":8,"13":9,"14":10,"15":11,"16":12,"17":13,"18":18,"23":[[1,20]],"26":[[1,21]],"31":[[1,22]],"38":[[1,14]],"39":[[1,15]],"40":[[1,16]],"41":[[1,17]],"45":[[1,19]],"50":[[1,23]]},{"6":56,"10":6,"11":7,"12":8,"13":9,"14":10,"15":11,"16":12,"17":13,"18":18,"23":[[1,20]],"26":[[1,21]],"31":[[1,22]],"38":[[1,14]],"39":[[1,15]],"40":[[1,16]],"41":[[1,
17]],"45":[[1,19]],"50":[[1,23]]},{"6":57,"10":6,"11":7,"12":8,"13":9,"14":10,"15":11,"16":12,"17":13,"18":18,"23":[[1,20]],"26":[[1,21]],"31":[[1,22]],"38":[[1,14]],"39":[[1,15]],"40":[[1,16]],"41":[[1,17]],"45":[[1,19]],"50":[[1,23]]},{"18":58,"50":[[1,23]]},{"23":[[2,36]],"26":[[2,36]],"31":[[2,36]],"38":[[2,36]],"39":[[2,36]],"40":[[2,36]],"41":[[2,36]],"45":[[2,36]],"50":[[2,36]]},{"18":59,"50":[[1,23]]},{"6":60,"10":6,"11":7,"12":8,"13":9,"14":10,"15":11,"16":12,"17":13,"18":18,"23":[[1,20]],
"26":[[1,21]],"31":[[1,22]],"38":[[1,14]],"39":[[1,15]],"40":[[1,16]],"41":[[1,17]],"45":[[1,19]],"50":[[1,23]]},{"6":61,"10":6,"11":7,"12":8,"13":9,"14":10,"15":11,"16":12,"17":13,"18":18,"23":[[1,20]],"26":[[1,21]],"31":[[1,22]],"38":[[1,14]],"39":[[1,15]],"40":[[1,16]],"41":[[1,17]],"45":[[1,19]],"50":[[1,23]]},{"6":62,"10":6,"11":7,"12":8,"13":9,"14":10,"15":11,"16":12,"17":13,"18":18,"23":[[1,20]],"26":[[1,21]],"31":[[1,22]],"38":[[1,14]],"39":[[1,15]],"40":[[1,16]],"41":[[1,17]],"45":[[1,19]],
"50":[[1,23]]},{"5":[[2,17]],"7":[[2,17]],"8":[[2,17]],"20":[[2,17]],"22":[[2,17]],"28":[[2,17]],"33":[[2,17]],"37":[[2,17]]},{"18":44,"24":[[1,63]],"46":42,"47":43,"48":45,"50":[[1,23]]},{"5":[[2,22]],"7":[[2,22]],"8":[[2,22]],"20":[[2,22]],"22":[[1,64]],"28":[[2,22]],"33":[[2,22]],"37":[[2,22]]},{"5":[[2,19]],"7":[[2,19]],"8":[[2,19]],"20":[[1,29]],"22":[[2,19]],"25":28,"28":[[2,19]],"33":[[2,19]],"37":[[1,30]]},{"5":[[2,50]],"7":[[2,50]],"8":[[2,50]],"20":[[2,50]],"22":[[2,50]],"28":[[2,50]],"33":[[2,
50]],"37":[[2,50]]},{"5":[[2,47]],"7":[[2,47]],"8":[[2,47]],"20":[[1,29]],"22":[[2,47]],"25":28,"28":[[2,47]],"33":[[2,47]],"37":[[1,30]]},{"3":65,"4":3,"6":4,"9":[[1,5]],"10":6,"11":7,"12":8,"13":9,"14":10,"15":11,"16":12,"17":13,"18":18,"23":[[1,20]],"26":[[1,21]],"31":[[1,22]],"38":[[1,14]],"39":[[1,15]],"40":[[1,16]],"41":[[1,17]],"45":[[1,19]],"50":[[1,23]]},{"22":[[1,67]],"24":[[1,66]]},{"22":[[2,54]],"24":[[2,54]]},{"22":[[2,52]],"24":[[2,52]],"49":[[1,68]]},{"22":[[2,53]],"24":[[2,53]]},{"5":[[1,
71]],"22":[[1,70]],"28":[[1,69]]},{"6":48,"10":6,"11":7,"12":8,"13":9,"14":10,"15":11,"16":12,"17":13,"18":18,"23":[[1,20]],"26":[[1,21]],"27":72,"31":[[1,22]],"38":[[1,14]],"39":[[1,15]],"40":[[1,16]],"41":[[1,17]],"45":[[1,19]],"50":[[1,23]]},{"5":[[2,26]],"20":[[1,29]],"22":[[2,26]],"25":28,"28":[[2,26]],"37":[[1,30]]},{"5":[[1,75]],"22":[[1,74]],"33":[[1,73]]},{"18":52,"32":76,"34":51,"36":[[1,53]],"50":[[1,23]]},{"5":[[2,33]],"22":[[2,33]],"33":[[2,33]]},{"35":[[1,77]]},{"35":[[1,78]]},{"1":[[2,
4]],"9":[[2,4]],"23":[[2,4]],"26":[[2,4]],"30":[[2,4]],"31":[[2,4]],"38":[[2,4]],"39":[[2,4]],"40":[[2,4]],"41":[[2,4]],"45":[[2,4]],"50":[[2,4]]},{"5":[[2,5]],"20":[[1,29]],"25":28,"37":[[1,30]]},{"5":[[2,6]],"20":[[1,29]],"25":28,"37":[[1,30]]},{"5":[[2,23]],"7":[[2,23]],"8":[[2,23]],"20":[[1,29]],"22":[[2,23]],"25":28,"28":[[2,23]],"33":[[2,23]],"37":[[1,30]]},{"6":38,"10":6,"11":7,"12":8,"13":9,"14":10,"15":11,"16":12,"17":13,"18":18,"19":79,"21":37,"23":[[1,36]],"26":[[1,21]],"31":[[1,22]],"38":[[1,
14]],"39":[[1,15]],"40":[[1,16]],"41":[[1,17]],"45":[[1,19]],"50":[[1,23]]},{"5":[[2,45]],"7":[[2,45]],"8":[[2,45]],"20":[[2,45]],"22":[[2,45]],"26":[[2,45]],"28":[[2,45]],"33":[[2,45]],"35":[[2,45]],"37":[[2,45]],"42":[[2,45]]},{"20":[[1,29]],"25":28,"28":[[1,80]],"37":[[1,30]]},{"5":[[2,41]],"7":[[2,41]],"8":[[2,41]],"20":[[1,29]],"22":[[2,41]],"25":28,"28":[[2,41]],"33":[[2,41]],"37":[[1,30]]},{"5":[[2,42]],"7":[[2,42]],"8":[[2,42]],"20":[[1,29]],"22":[[2,42]],"25":28,"28":[[2,42]],"33":[[2,42]],
"37":[[1,30]]},{"5":[[2,21]],"7":[[2,21]],"8":[[2,21]],"20":[[2,21]],"22":[[2,21]],"28":[[2,21]],"33":[[2,21]],"37":[[2,21]]},{"6":81,"10":6,"11":7,"12":8,"13":9,"14":10,"15":11,"16":12,"17":13,"18":18,"23":[[1,20]],"26":[[1,21]],"31":[[1,22]],"38":[[1,14]],"39":[[1,15]],"40":[[1,16]],"41":[[1,17]],"45":[[1,19]],"50":[[1,23]]},{"4":24,"6":4,"9":[[1,5]],"10":6,"11":7,"12":8,"13":9,"14":10,"15":11,"16":12,"17":13,"18":18,"23":[[1,20]],"26":[[1,21]],"30":[[1,82]],"31":[[1,22]],"38":[[1,14]],"39":[[1,
15]],"40":[[1,16]],"41":[[1,17]],"45":[[1,19]],"50":[[1,23]]},{"45":[[1,83]]},{"18":44,"47":84,"48":45,"50":[[1,23]]},{"22":[[2,56]],"24":[[2,56]]},{"5":[[2,24]],"7":[[2,24]],"8":[[2,24]],"20":[[2,24]],"22":[[2,24]],"28":[[2,24]],"33":[[2,24]],"37":[[2,24]]},{"6":85,"10":6,"11":7,"12":8,"13":9,"14":10,"15":11,"16":12,"17":13,"18":18,"23":[[1,20]],"26":[[1,21]],"31":[[1,22]],"38":[[1,14]],"39":[[1,15]],"40":[[1,16]],"41":[[1,17]],"45":[[1,19]],"50":[[1,23]]},{"6":86,"10":6,"11":7,"12":8,"13":9,"14":10,
"15":11,"16":12,"17":13,"18":18,"23":[[1,20]],"26":[[1,21]],"31":[[1,22]],"38":[[1,14]],"39":[[1,15]],"40":[[1,16]],"41":[[1,17]],"45":[[1,19]],"50":[[1,23]]},{"5":[[1,87]],"22":[[1,70]]},{"5":[[2,29]],"7":[[2,29]],"8":[[2,29]],"20":[[2,29]],"22":[[2,29]],"28":[[2,29]],"33":[[2,29]],"37":[[2,29]]},{"18":52,"34":88,"36":[[1,53]],"50":[[1,23]]},{"18":52,"34":89,"36":[[1,53]],"50":[[1,23]]},{"5":[[1,90]],"22":[[1,74]]},{"6":91,"10":6,"11":7,"12":8,"13":9,"14":10,"15":11,"16":12,"17":13,"18":18,"23":[[1,
20]],"26":[[1,21]],"31":[[1,22]],"38":[[1,14]],"39":[[1,15]],"40":[[1,16]],"41":[[1,17]],"45":[[1,19]],"50":[[1,23]]},{"6":92,"10":6,"11":7,"12":8,"13":9,"14":10,"15":11,"16":12,"17":13,"18":18,"23":[[1,20]],"26":[[1,21]],"31":[[1,22]],"38":[[1,14]],"39":[[1,15]],"40":[[1,16]],"41":[[1,17]],"45":[[1,19]],"50":[[1,23]]},{"5":[[2,18]],"7":[[2,18]],"8":[[2,18]],"20":[[2,18]],"22":[[2,18]],"28":[[2,18]],"33":[[2,18]],"37":[[2,18]]},{"5":[[2,46]],"7":[[2,46]],"8":[[2,46]],"20":[[2,46]],"22":[[2,46]],"26":[[2,
46]],"28":[[2,46]],"33":[[2,46]],"35":[[2,46]],"37":[[2,46]],"42":[[2,46]]},{"5":[[2,20]],"7":[[2,20]],"8":[[2,20]],"20":[[1,29]],"22":[[2,20]],"25":28,"28":[[2,20]],"33":[[2,20]],"37":[[1,30]]},{"5":[[2,48]],"7":[[2,48]],"8":[[2,48]],"20":[[2,48]],"22":[[2,48]],"28":[[2,48]],"33":[[2,48]],"37":[[2,48]]},{"5":[[2,49]],"6":40,"7":[[2,49]],"8":[[2,49]],"10":6,"11":7,"12":8,"13":9,"14":10,"15":11,"16":12,"17":13,"18":18,"20":[[2,49]],"22":[[2,49]],"23":[[1,20]],"26":[[1,21]],"28":[[2,49]],"29":[[1,41]],
"31":[[1,22]],"33":[[2,49]],"37":[[2,49]],"38":[[1,14]],"39":[[1,15]],"40":[[1,16]],"41":[[1,17]],"44":93,"45":[[1,19]],"50":[[1,23]]},{"22":[[2,55]],"24":[[2,55]]},{"5":[[2,27]],"20":[[1,29]],"22":[[2,27]],"25":28,"28":[[2,27]],"37":[[1,30]]},{"5":[[2,28]],"20":[[1,29]],"22":[[2,28]],"25":28,"28":[[2,28]],"37":[[1,30]]},{"6":86,"10":6,"11":7,"12":8,"13":9,"14":10,"15":11,"16":12,"17":13,"18":18,"23":[[1,20]],"26":[[1,21]],"30":[[1,94]],"31":[[1,22]],"38":[[1,14]],"39":[[1,15]],"40":[[1,16]],"41":[[1,
17]],"45":[[1,19]],"50":[[1,23]]},{"5":[[2,34]],"22":[[2,34]],"33":[[2,34]]},{"5":[[2,35]],"22":[[2,35]],"33":[[2,35]]},{"18":52,"30":[[1,95]],"34":89,"36":[[1,53]],"50":[[1,23]]},{"5":[[2,31]],"20":[[1,29]],"22":[[2,31]],"25":28,"33":[[2,31]],"37":[[1,30]]},{"5":[[2,32]],"20":[[1,29]],"22":[[2,32]],"25":28,"33":[[2,32]],"37":[[1,30]]},{"5":[[2,51]],"7":[[2,51]],"8":[[2,51]],"20":[[2,51]],"22":[[2,51]],"28":[[2,51]],"33":[[2,51]],"37":[[2,51]]},{"5":[[1,96]]},{"5":[[1,97]]},{"28":[[1,98]]},{"33":[[1,
99]]},{"5":[[2,25]],"7":[[2,25]],"8":[[2,25]],"20":[[2,25]],"22":[[2,25]],"28":[[2,25]],"33":[[2,25]],"37":[[2,25]]},{"5":[[2,30]],"7":[[2,30]],"8":[[2,30]],"20":[[2,30]],"22":[[2,30]],"28":[[2,30]],"33":[[2,30]],"37":[[2,30]]}],parseError:function(k){throw new Error(k);},parse:function(k){function f(){var u;return(u=s.lexer.lex())?s.symbols_[u]:1}var s=this,g=[0],a=[null],c=this.table,b="",e=0;this.lexer.setInput(k);this.lexer.yy=this.yy;k=this.yy.parseError=this.yy.parseError||this.parseError;var h,
d,i,m={},j,n,t=0;for(h=f();;){this.log("stack:",JSON.stringify(g),"\n\t\t\tinput:",this.lexer._input);this.log("vstack:",JSON.stringify(a));d=g[g.length-1];i=c[d]&&c[d][h];if(typeof i=="undefined"||!i.length||!i[0]){n=[];for(j in c[d])this.terminals_[j]&&j!=1&&n.push("'"+this.terminals_[j]+"'");s.log("stack:",JSON.stringify(g),"symbol:",h,"input",this.lexer.upcomingInput());k("Parse error on line "+(e+1)+". Expecting: "+n.join(", ")+"\n"+this.lexer.showPosition(),{text:this.lexer.match,token:h,line:this.lexer.yylineno})}this.log("action:",
i);if(i.length>1)throw new Error("Parse Error: multiple actions possible at state: "+d+", token: "+h);d=i[0];switch(d[0]){case 1:g.push(h);++t;b=this.lexer.yytext;e=this.lexer.yylineno;h=f();a.push(null);g.push(d[1]);break;case 2:n=this.productions_[d[1]][1];this.log("reduce by: ",this.productions?this.productions[d[1]]:d[1]);m.$=a[a.length-n];i=this.performAction.call(m,b,e,this.yy,d[1],a);if(i!=undefined)return i;this.log("yyval=",JSON.stringify(m.$));if(n){this.log("production length:",n);g=g.slice(0,
-1*n*2);a=a.slice(0,-1*n)}g.push(this.productions_[d[1]][0]);a.push(m.$);d=c[g[g.length-2]][g[g.length-1]];g.push(d);break;case 3:this.log("stack:",g,"\n\tinput:",this.lexer._input);this.log("vstack:",JSON.stringify(a));return true}}return true}};r.lexer={lex:function(){var k;k=this.tokens[this.pos]||[""];this.pos++;this.yylineno=k&&k[1]&&k[1][1];this.yytext=k[2];return k[0]},setInput:function(k){this.tokens=k;return this.pos=0},upcomingInput:function(){return""},showPosition:function(){return this.pos}};
return r}(),o,q,p;root=typeof exports!=="undefined"&&exports!==null?exports:this;CoffeePot=root.CoffeePot=typeof root.CoffeePot!=="undefined"&&root.CoffeePot!==null?root.CoffeePot:{};CoffeePot.parse=function(r){return l.parse(r)};if(!(typeof Object.keys!=="undefined"&&Object.keys!==null))return Object.keys=function(){o=[];q=obj;for(p in q){value=q[p];__hasProp.call(q,p)&&o.push(obj(function(){return p}))}return o}.call(this)})();
(function(){var l,o,q,p,r,k,f,s=Object.prototype.hasOwnProperty;k=typeof exports!=="undefined"&&exports!==null?exports:this;l=k.CoffeePot=typeof k.CoffeePot!=="undefined"&&k.CoffeePot!==null?k.CoffeePot:{};l.tokenize=typeof l.tokenize!=="undefined"&&l.tokenize!==null?l.tokenize:require("coffeepot/lexer").CoffeePot.tokenize;l.parse=typeof l.parse!=="undefined"&&l.parse!==null?l.parse:require("coffeepot/parser").CoffeePot.parse;p=[];q=function(g){var a,c,b,e;return function(){a=[];c=g.split("\n");for(b=
0;b<c.length;b++){e=c[b];a.push("  "+e)}return a}.call(this).join("\n")};f=function(g){g=l.tokenize(g);g=l.parse(g)[1][1][0];return r(g)};o={Root:function g(a){var c,b,e,h;a=this(a);h=function(){c=[];b=p.pop();for(e in b)s.call(b,e)&&c.push(e);return c}.call(this);if(h.length>0){a="var "+h.join(", ")+";\n"+a;a="\n"+q(a)+"\n";a="(function () {"+a+"}());"}a=a;return g===this.constructor?this:a},Not:function g(a){a="!("+this(a)+")";return g===this.constructor?this:a},Block:function g(a){var c,b,e;e=
this;p.push({});b=false;c=a.map(function(h){var d;d=h[0];c=e(h);c=function(){return d==="COMMENT"?(b?"":"\n")+c:d==="If"?c:c+";"}.call(this);b=d==="COMMENT";return c});a=c=c.join("\n");return g===this.constructor?this:a},Property:function g(a,c){a=this(a)+"."+this(c);return g===this.constructor?this:a},Function:function g(a,c,b){var e,h,d,i,m,j,n,t,u;b=typeof b!=="undefined"&&b!==null?b:"";c=function(){if(c)if(c[0]==="Block"){p.push({});c=this(c);t=function(){e=[];h=p.pop();for(u in h)s.call(h,u)&&
e.push(u);return e}.call(this);t.length>0&&(c="var "+t.join(", ")+";\n"+c);d="\n"+q(c)+"\n";return g===this.constructor?this:d}else{i=" return "+this(c)+"; ";return g===this.constructor?this:i}else return g===this.constructor?this:""}.call(this);b="function "+b+"("+function(){m=[];for(j=0;j<a.length;j++){n=a[j];m.push(n[1])}return m}.call(this).join(", ")+") {"+c+"}";return g===this.constructor?this:b},COMMENT:function g(a){a="//"+a;return g===this.constructor?this:a},STRING:function g(a){var c,b,
e,h,d,i,m,j;if(a.match(/[^\\]?#{.*[^\\]}/)){d=[];i=0;for(e=a.length;i<e;){j=i;i=a.substr(i,e).indexOf("#{");console.log(i);if(i<0){i=e;d.push(JSON.stringify(a.substr(j,e-j)))}else{i+=j;d.push(JSON.stringify(a.substr(j,i-j)));i+=2;j=i;h=1;for(b=m=false;!b&&i<e;){c=a.substr(i,1);i++;if(c==="\\")i++;else if(m){if(c===m)m=false}else if(c==="{")h++;else if(c==="}"){h--;if(h===0)b=true}else if(c==='"'||c==="'")m=c}c=a.substr(j,i-j-1);d.push(f(c))}}a=d.join(" + ");return g===this.constructor?this:a}else{a=
JSON.stringify(a);return g===this.constructor?this:a}},If:function g(a,c){a="if ("+this(a)+") { "+this(c)+"; }";return g===this.constructor?this:a},Assign:function g(a,c){var b;if(a[0]==="ID"){b=a[1];c[0]==="Function"&&(c[3]=b);p[p.length-1][b]=true}a=this(a)+" = "+this(c);return g===this.constructor?this:a},Source:function g(a){var c,b,e,h;c=function(){b=[];for(e=0;e<a.length;e++){h=a[e];b.push(h[1])}return b}.call(this).join("");return g===this.constructor?this:c},Call:function g(a,c,b){var e;e=
this;b=b.map(function(h){return e(h)});c=this(c)+"("+b.join(", ")+")";a=a?this(a)+"."+c:c;return g===this.constructor?this:a},ExpressionList:function g(a){var c,b,e,h,d;d=this;c=function(){b=[];for(e=0;e<a.length;e++){h=a[e];b.push(d(h))}return b}.call(this).join(", ");return g===this.constructor?this:c},Compound:function g(a){var c,b,e,h;c=function(){b=[];for(e=0;e<a.length;e++){h=a[e];b.push(this(h))}return b}.call(this).join("");return g===this.constructor?this:c},Binop:function g(a,c,b){var e,
h,d,i;d=this(c);i=this(b);c=function(){if(a==="?"){e="(typeof "+d+' !== "undefined" && '+d+" !== null) ? "+d+" : "+i;return g===this.constructor?this:e}else{if(a==="==")a="===";else if(a==="!=")a="!==";h=d+" "+a+" "+i;return g===this.constructor?this:h}}.call(this);return g===this.constructor?this:c},Array:function g(a){var c,b,e,h,d;d=this;c="["+function(){b=[];for(e=0;e<a.length;e++){h=a[e];b.push(d(h))}return b}.call(this).join(", ")+"]";return g===this.constructor?this:c},Object:function g(a){var c,
b,e,h,d;d=this;e=function(){c=[];for(b=0;b<a.length;b++){h=a[b];c.push(d(h[0])+": "+d(h[1]))}return c}.call(this);e="{\n"+q(e.join(",\n"))+"\n}";return g===this.constructor?this:e}};r=function g(a){var c,b;if(!a)return"";b=a[0];c=Array.prototype.slice.call(a,1);return o[b]?o[b].apply(g,c):typeof b==="string"&&b.match(/^[A-Z]+$/)?c[0]:JSON.stringify(a)};l.generate=r})();
(function(){var l,o;o=typeof exports!=="undefined"&&exports!==null?exports:this;l=o.CoffeePot=typeof o.CoffeePot!=="undefined"&&o.CoffeePot!==null?o.CoffeePot:{};l.tokenize=typeof l.tokenize!=="undefined"&&l.tokenize!==null?l.tokenize:require("coffeepot/lexer").CoffeePot.tokenize;l.parse=typeof l.parse!=="undefined"&&l.parse!==null?l.parse:require("coffeepot/parser").CoffeePot.parse;l.generate=typeof l.generate!=="undefined"&&l.generate!==null?l.generate:require("coffeepot/generator").CoffeePot.generate;
l.compile=function(q){var p,r,k,f,s,g,a;g=l.tokenize(q);try{k=l.parse(g)}catch(c){p=c.message.split("\n");k=p[0];f=p[1];f=parseInt(f)-1;if(s=g[f]){r=s[1]&&s[1][1]+1;p=q.substr(0,s[1][0]).match(/\n?.*$/)[0];q=q.substr(s[1][0],q.length).match(/^.*\n?/)[0];a=g.slice(0,f).filter(function(b){return b[1]&&b[1][1]===r-1});a=a.map(function(b){return b[0]});g=g.slice(f,g.length).filter(function(b){return b[1]&&b[1][1]===r-1});g=g.map(function(b){return b[0]});c.message=k+"\nbut found '"+s[0]+"'\nLine "+r+
": "+JSON.stringify(p)+" !! "+JSON.stringify(q)+"'\nTokens "+JSON.stringify(a)+" !! "+JSON.stringify(g)}throw c;}return l.generate(k)}})();
