(function(){var m,o,l,c,q,n,d,r,i,e=Object.prototype.hasOwnProperty;o=typeof exports!=="undefined"&&exports!==null?exports:this;o=o.CoffeePot=typeof o.CoffeePot!=="undefined"&&o.CoffeePot!==null?o.CoffeePot:{};m=["true","false","yes","no","on","off"];c=["if","else","then","unless","and","or","is","isnt","not","new","return","try","catch","finally","throw","break","continue","for","in","of","by","where","while","switch","when","super","extends","arguments","var","delete","instanceof","typeof"];l=["COMMENT",
"ID","PROPERTY","OPERATOR","NUMBER","BOOLEAN","RAW","HEREDOC","STRING","REGEX"];q={CODE:/^([\(\)\[\]\{\}:=;,.])/,NEWLINE:/^([ \t]*\n)/,WS:/^([ \t]+)/,COMMENT:/^(#.*)\n?/,ID:/^([a-z_$][a-z0-9_$]*)/i,ROCKET:/^(=>)/,OPERATOR:/^([+\*&|\/\-%=<>!?]+)/,DOTDOTDOT:/^(\.\.\.)/,DOTDOT:/^(\.\.)/,NUMBER:function b(a){var g;if(!a[0].match(/[0-9.-]/))return null;a=!isNaN(g=parseInt(a)||parseFloat(a))?{"1":g+""}:null;return b===this.constructor?this:a},JS:function b(a){var g,h,f;if(a[0]!=="`")return null;f=1;h=a.length+
1;for(g=false;!g&&f<h;){a[f]==="`"&&(g=true);a[f]==="\\"&&f++;f++}a=f>=h?null:{"1":a.substr(0,f)};return b===this.constructor?this:a},HEREDOC:function b(a){var g,h,f,j;if(!(j=a.match(/^("""|''')\n/)))return null;j=j[1];f=3;h=a.length+1;for(g=false;!g&&f<h;){if(a.substr(f,3)===j){g=true;f+=2}f++}a=f>=h?null:{"1":a.substr(0,f)};return b===this.constructor?this:a},STRING:function b(a){var g,h,f,j;j=a[0];if(!(j==='"'||j==="'"))return null;f=1;h=a.length+1;for(g=false;!g&&f<h;){a[f]===j&&(g=true);a[f]===
"\\"&&f++;f++}a=f>=h?null:{"1":a.substr(0,f)};return b===this.constructor?this:a},REGEX:function b(a){var g,h,f;if(a[0]!=="/")return null;f=1;h=a.length+1;for(g=false;!g&&f<h;)try{eval(a.substr(0,f));g=true}catch(j){f++}a=f>=h?null:{"1":a.substr(0,f)};return b===this.constructor?this:a}};i=[];d=function(b){var a,g,h,f;f=null;for(h in q){g=q[h];if(e.call(q,h))(a=g(b))&&(f===null||a[1].length>f[1].length)&&(f=[h,a[1]])}if(f)return f;else{debug(inspect(i));throw new Error("Unknown Token: "+JSON.stringify(b.split("\n")[0]));
}};r=function(b){return Helper.block_trim(b.substr(4,b.length-7))};n=function(b,a){var g,h,f,j,p,k,s;j=[];p=[""];h=-1;for(g=0;g<b.length;g++){k=b[g];f=b[h];h++;if(f&&f[0]==="NEWLINE"){if(k[0]==="NEWLINE")continue;s=p[p.length-1];for(f=k[0]==="WS"?k[2]:"";f.length<s.length;){if(f!==s.substr(0,f.length))throw new Error("Indentation mismatch");j.push(["DEDENT",k[1],s]);j.push(["NEWLINE",k[1]]);p.pop();s=p[p.length-1]}if(f.length>s.length){if(s!==f.substr(0,s.length))throw new Error("Indentation mismatch");
j.pop();j.push(["INDENT",k[1],f]);p.push(f)}if(f.length===s.length&&f!==s)throw new Error("Indentation mismatch");}if(k[0]==="ID")if(c.indexOf(k[2])>=0)k[0]=k[2];else if((f=m.indexOf(k[2]))>=0){k[0]="BOOLEAN";k[2]=f%2===0}k[0]==="STRING"&&(k[2]=function(){try{return JSON.parse(k[2].replace(/\n/g,"\\n"))}catch(t){return k[2]}}.call(this));if(k[0]==="HEREDOC"){k[2]=r(k[2]);k[0]="STRING"}k[0]==="COMMENT"&&(k[2]=k[2].substr(1,k[2].length));k[0]==="CODE"&&(k[0]=k[2]);l.indexOf(k[0])<0&&(k.length=2);k[0]!==
"WS"&&j.push(k)}for(;p.length>1;){g=[b.length,a.split("\n").length];j.push(["DEDENT",g,p.pop()]);j.push(["NEWLINE",g])}return j};o.tokenize=function(b){var a,g,h,f,j;b+="\n";g=b.length;f=0;for(i=[];f<g;){a=d(b.substr(f,g));j=a[0];h=a[1];a=b.substr(0,f).replace(/[^\n]/g,"").length;i.push([j,[f,a],h]);f+=h.length}return n(i,b)}})();
(function(){var m=function(){var o={log:function(){this.DEBUG&&puts(JSON.stringify(Array.prototype.slice.call(arguments)))},yy:{},symbols_:{Root:2,Block:3,Statement:4,NEWLINE:5,Expression:6,"if":7,unless:8,COMMENT:9,Literal:10,Source:11,Assign:12,Function:13,Binop:14,Array:15,Object:16,Call:17,Id:18,"(":19,")":20,".":21,ExpressionList:22,",":23,Operator:24,"[":25,ArrayItems:26,"]":27,INDENT:28,DEDENT:29,"{":30,ObjectItems:31,"}":32,ObjectItem:33,":":34,String:35,OPERATOR:36,NUMBER:37,BOOLEAN:38,REGEX:39,
STRING:40,"=":41,Property:42,FunctionBody:43,ROCKET:44,Splat:45,VarListItem:46,VarList:47,DOTDOTDOT:48,ID:49,$accept:0,$end:1},terminals_:{"5":"NEWLINE","7":"if","8":"unless","9":"COMMENT","19":"(","20":")","21":".","23":",","25":"[","27":"]","28":"INDENT","29":"DEDENT","30":"{","32":"}","34":":","35":"String","36":"OPERATOR","37":"NUMBER","38":"BOOLEAN","39":"REGEX","40":"STRING","41":"=","44":"ROCKET","48":"DOTDOTDOT","49":"ID"},productions_:[0,[2,1],[2,0],[3,2],[3,3],[4,3],[4,3],[4,1],[4,1],[6,
1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[17,3],[17,5],[17,4],[17,2],[17,6],[17,4],[22,1],[22,3],[14,3],[15,3],[15,7],[26,1],[26,3],[26,3],[16,3],[16,7],[33,3],[33,3],[31,1],[31,3],[31,3],[24,1],[10,1],[10,1],[10,1],[10,1],[12,3],[12,3],[42,3],[11,1],[11,3],[11,4],[43,1],[43,3],[43,0],[13,2],[13,3],[13,5],[46,1],[46,1],[47,1],[47,3],[45,2],[18,1]],performAction:function(l,c,q,n,d){c=d.length;switch(n){case 1:return this.$=["Root",["Block",d[c-1+1-1]]];case 2:return this.$=false;case 3:this.$=
[d[c-2+1-1]];break;case 4:this.$=d[c-3+1-1].concat([d[c-3+2-1]]);break;case 5:this.$=["If",d[c-3+3-1],d[c-3+1-1]];break;case 6:this.$=["If",["Not",d[c-3+3-1]],d[c-3+1-1]];break;case 7:this.$=d[c-1+1-1];break;case 8:this.$=["COMMENT",l];break;case 9:this.$=d[c-1+1-1];break;case 10:this.$=d[c-1+1-1];break;case 11:this.$=d[c-1+1-1];break;case 12:this.$=d[c-1+1-1];break;case 13:this.$=d[c-1+1-1];break;case 14:this.$=d[c-1+1-1];break;case 15:this.$=d[c-1+1-1];break;case 16:this.$=d[c-1+1-1];break;case 17:this.$=
["Call",null,d[c-3+1-1],[]];break;case 18:this.$=["Call",d[c-5+1-1],d[c-5+3-1],[]];break;case 19:this.$=["Call",null,d[c-4+1-1],d[c-4+3-1]];break;case 20:this.$=["Call",null,d[c-2+1-1],d[c-2+2-1]];break;case 21:this.$=["Call",d[c-6+1-1],d[c-6+3-1],d[c-6+5-1]];break;case 22:this.$=["Call",d[c-4+1-1],d[c-4+3-1],d[c-4+4-1]];break;case 23:this.$=[d[c-1+1-1]];break;case 24:this.$=d[c-3+1-1].concat([d[c-3+3-1]]);break;case 25:this.$=["Binop",d[c-3+2-1],d[c-3+1-1],d[c-3+3-1]];break;case 26:this.$=["Array",
d[c-3+2-1]];break;case 27:this.$=["Array",d[c-7+3-1]];break;case 28:this.$=[d[c-1+1-1]];break;case 29:this.$=d[c-3+1-1].concat([d[c-3+3-1]]);break;case 30:this.$=d[c-3+1-1].concat([d[c-3+3-1]]);break;case 31:this.$=["Object",d[c-3+2-1]];break;case 32:this.$=["Object",d[c-7+3-1]];break;case 33:this.$=[d[c-3+1-1],d[c-3+3-1]];break;case 34:this.$=[d[c-3+1-1],d[c-3+3-1]];break;case 35:this.$=[d[c-1+1-1]];break;case 36:this.$=d[c-3+1-1].concat([d[c-3+3-1]]);break;case 37:this.$=d[c-3+1-1].concat([d[c-
3+3-1]]);break;case 38:this.$=l;break;case 39:this.$=["NUMBER",l];break;case 40:this.$=["BOOLEAN",l];break;case 41:this.$=["REGEX",l];break;case 42:this.$=["STRING",l];break;case 43:this.$=["Assign",d[c-3+1-1],d[c-3+3-1]];break;case 44:this.$=["Assign",d[c-3+1-1],d[c-3+3-1]];break;case 45:this.$=["Property",[]];break;case 46:this.$=d[c-1+1-1];break;case 47:this.$=["Property",d[c-3+1-1],d[c-3+3-1]];break;case 48:this.$=["Property",d[c-4+1-1],3];break;case 49:this.$=d[c-1+1-1];break;case 50:this.$=
["Block",d[c-3+2-1]];break;case 51:this.$=false;break;case 52:this.$=["Function",[],d[c-2+2-1]];break;case 53:this.$=["Function",[d[c-3+1-1]],d[c-3+3-1]];break;case 54:this.$=["Function",[d[c-5+1-1],d[c-5+3-1]],d[c-5+5-1]];break;case 55:this.$=d[c-1+1-1];break;case 56:this.$=d[c-1+1-1];break;case 57:this.$=[d[c-1+1-1]];break;case 58:this.$=d[c-3+1-1].concat(d[c-3+3-1]);break;case 59:this.$=["Splat",d[c-2+1-1][1]];break;case 60:this.$=["ID",l];break}},table:[{"1":[[2,2]],"2":1,"3":2,"4":3,"6":4,"9":[[1,
5]],"10":6,"11":7,"12":8,"13":9,"14":10,"15":11,"16":12,"17":13,"18":18,"25":[[1,20]],"30":[[1,21]],"37":[[1,14]],"38":[[1,15]],"39":[[1,16]],"40":[[1,17]],"44":[[1,19]],"49":[[1,22]]},{"1":[[3]]},{"1":[[2,1]],"4":23,"6":4,"9":[[1,5]],"10":6,"11":7,"12":8,"13":9,"14":10,"15":11,"16":12,"17":13,"18":18,"25":[[1,20]],"30":[[1,21]],"37":[[1,14]],"38":[[1,15]],"39":[[1,16]],"40":[[1,17]],"44":[[1,19]],"49":[[1,22]]},{"5":[[1,24]]},{"5":[[2,7]],"7":[[1,25]],"8":[[1,26]],"21":[[1,28]],"24":27,"36":[[1,
29]]},{"5":[[2,8]]},{"5":[[2,9]],"7":[[2,9]],"8":[[2,9]],"20":[[2,9]],"21":[[2,9]],"23":[[2,9]],"27":[[2,9]],"32":[[2,9]],"36":[[2,9]]},{"5":[[2,10]],"7":[[2,10]],"8":[[2,10]],"20":[[2,10]],"21":[[1,30]],"23":[[2,10]],"25":[[1,31]],"27":[[2,10]],"32":[[2,10]],"34":[[1,32]],"36":[[2,10]],"41":[[1,33]]},{"5":[[2,11]],"7":[[2,11]],"8":[[2,11]],"20":[[2,11]],"21":[[2,11]],"23":[[2,11]],"27":[[2,11]],"32":[[2,11]],"36":[[2,11]]},{"5":[[2,12]],"7":[[2,12]],"8":[[2,12]],"20":[[2,12]],"21":[[2,12]],"23":[[2,
12]],"27":[[2,12]],"32":[[2,12]],"36":[[2,12]]},{"5":[[2,13]],"7":[[2,13]],"8":[[2,13]],"20":[[2,13]],"21":[[2,13]],"23":[[2,13]],"27":[[2,13]],"32":[[2,13]],"36":[[2,13]]},{"5":[[2,14]],"7":[[2,14]],"8":[[2,14]],"20":[[2,14]],"21":[[2,14]],"23":[[2,14]],"27":[[2,14]],"32":[[2,14]],"36":[[2,14]]},{"5":[[2,15]],"7":[[2,15]],"8":[[2,15]],"20":[[2,15]],"21":[[2,15]],"23":[[2,15]],"27":[[2,15]],"32":[[2,15]],"36":[[2,15]]},{"5":[[2,16]],"7":[[2,16]],"8":[[2,16]],"20":[[2,16]],"21":[[2,16]],"23":[[2,16]],
"27":[[2,16]],"32":[[2,16]],"36":[[2,16]]},{"5":[[2,39]],"7":[[2,39]],"8":[[2,39]],"20":[[2,39]],"21":[[2,39]],"23":[[2,39]],"27":[[2,39]],"32":[[2,39]],"36":[[2,39]]},{"5":[[2,40]],"7":[[2,40]],"8":[[2,40]],"20":[[2,40]],"21":[[2,40]],"23":[[2,40]],"27":[[2,40]],"32":[[2,40]],"36":[[2,40]]},{"5":[[2,41]],"7":[[2,41]],"8":[[2,41]],"20":[[2,41]],"21":[[2,41]],"23":[[2,41]],"27":[[2,41]],"32":[[2,41]],"36":[[2,41]]},{"5":[[2,42]],"7":[[2,42]],"8":[[2,42]],"20":[[2,42]],"21":[[2,42]],"23":[[2,42]],"27":[[2,
42]],"32":[[2,42]],"36":[[2,42]]},{"5":[[2,46]],"6":38,"7":[[2,46]],"8":[[2,46]],"10":6,"11":7,"12":8,"13":9,"14":10,"15":11,"16":12,"17":13,"18":18,"19":[[1,36]],"20":[[2,46]],"21":[[2,46]],"22":37,"23":[[1,35]],"25":[[1,20]],"27":[[2,46]],"30":[[1,21]],"32":[[2,46]],"34":[[2,46]],"36":[[2,46]],"37":[[1,14]],"38":[[1,15]],"39":[[1,16]],"40":[[1,17]],"41":[[2,46]],"44":[[1,34]],"49":[[1,22]]},{"5":[[2,51]],"6":40,"7":[[2,51]],"8":[[2,51]],"10":6,"11":7,"12":8,"13":9,"14":10,"15":11,"16":12,"17":13,
"18":18,"20":[[2,51]],"21":[[2,51]],"23":[[2,51]],"25":[[1,20]],"27":[[2,51]],"28":[[1,41]],"30":[[1,21]],"32":[[2,51]],"36":[[2,51]],"37":[[1,14]],"38":[[1,15]],"39":[[1,16]],"40":[[1,17]],"43":39,"44":[[1,19]],"49":[[1,22]]},{"6":44,"10":6,"11":7,"12":8,"13":9,"14":10,"15":11,"16":12,"17":13,"18":18,"25":[[1,20]],"26":42,"28":[[1,43]],"30":[[1,21]],"37":[[1,14]],"38":[[1,15]],"39":[[1,16]],"40":[[1,17]],"44":[[1,19]],"49":[[1,22]]},{"18":48,"28":[[1,46]],"31":45,"33":47,"35":[[1,49]],"49":[[1,22]]},
{"5":[[2,60]],"7":[[2,60]],"8":[[2,60]],"19":[[2,60]],"20":[[2,60]],"21":[[2,60]],"23":[[2,60]],"25":[[2,60]],"27":[[2,60]],"30":[[2,60]],"32":[[2,60]],"34":[[2,60]],"36":[[2,60]],"37":[[2,60]],"38":[[2,60]],"39":[[2,60]],"40":[[2,60]],"41":[[2,60]],"44":[[2,60]],"48":[[2,60]],"49":[[2,60]]},{"5":[[1,50]]},{"1":[[2,3]],"9":[[2,3]],"25":[[2,3]],"29":[[2,3]],"30":[[2,3]],"37":[[2,3]],"38":[[2,3]],"39":[[2,3]],"40":[[2,3]],"44":[[2,3]],"49":[[2,3]]},{"6":51,"10":6,"11":7,"12":8,"13":9,"14":10,"15":11,
"16":12,"17":13,"18":18,"25":[[1,20]],"30":[[1,21]],"37":[[1,14]],"38":[[1,15]],"39":[[1,16]],"40":[[1,17]],"44":[[1,19]],"49":[[1,22]]},{"6":52,"10":6,"11":7,"12":8,"13":9,"14":10,"15":11,"16":12,"17":13,"18":18,"25":[[1,20]],"30":[[1,21]],"37":[[1,14]],"38":[[1,15]],"39":[[1,16]],"40":[[1,17]],"44":[[1,19]],"49":[[1,22]]},{"6":53,"10":6,"11":7,"12":8,"13":9,"14":10,"15":11,"16":12,"17":13,"18":18,"25":[[1,20]],"30":[[1,21]],"37":[[1,14]],"38":[[1,15]],"39":[[1,16]],"40":[[1,17]],"44":[[1,19]],"49":[[1,
22]]},{"18":54,"49":[[1,22]]},{"25":[[2,38]],"30":[[2,38]],"37":[[2,38]],"38":[[2,38]],"39":[[2,38]],"40":[[2,38]],"44":[[2,38]],"49":[[2,38]]},{"18":55,"49":[[1,22]]},{"6":56,"10":6,"11":7,"12":8,"13":9,"14":10,"15":11,"16":12,"17":13,"18":18,"25":[[1,20]],"30":[[1,21]],"37":[[1,14]],"38":[[1,15]],"39":[[1,16]],"40":[[1,17]],"44":[[1,19]],"49":[[1,22]]},{"6":57,"10":6,"11":7,"12":8,"13":9,"14":10,"15":11,"16":12,"17":13,"18":18,"25":[[1,20]],"30":[[1,21]],"37":[[1,14]],"38":[[1,15]],"39":[[1,16]],
"40":[[1,17]],"44":[[1,19]],"49":[[1,22]]},{"6":58,"10":6,"11":7,"12":8,"13":9,"14":10,"15":11,"16":12,"17":13,"18":18,"25":[[1,20]],"30":[[1,21]],"37":[[1,14]],"38":[[1,15]],"39":[[1,16]],"40":[[1,17]],"44":[[1,19]],"49":[[1,22]]},{"5":[[2,51]],"6":40,"7":[[2,51]],"8":[[2,51]],"10":6,"11":7,"12":8,"13":9,"14":10,"15":11,"16":12,"17":13,"18":18,"20":[[2,51]],"21":[[2,51]],"23":[[2,51]],"25":[[1,20]],"27":[[2,51]],"28":[[1,41]],"30":[[1,21]],"32":[[2,51]],"36":[[2,51]],"37":[[1,14]],"38":[[1,15]],
"39":[[1,16]],"40":[[1,17]],"43":59,"44":[[1,19]],"49":[[1,22]]},{"18":61,"45":60,"49":[[1,22]]},{"6":38,"10":6,"11":7,"12":8,"13":9,"14":10,"15":11,"16":12,"17":13,"18":18,"20":[[1,62]],"22":63,"25":[[1,20]],"30":[[1,21]],"37":[[1,14]],"38":[[1,15]],"39":[[1,16]],"40":[[1,17]],"44":[[1,19]],"49":[[1,22]]},{"5":[[2,20]],"7":[[2,20]],"8":[[2,20]],"20":[[2,20]],"21":[[2,20]],"23":[[1,64]],"27":[[2,20]],"32":[[2,20]],"36":[[2,20]]},{"5":[[2,23]],"7":[[2,23]],"8":[[2,23]],"20":[[2,23]],"21":[[1,28]],
"23":[[2,23]],"24":27,"27":[[2,23]],"32":[[2,23]],"36":[[1,29]]},{"5":[[2,52]],"7":[[2,52]],"8":[[2,52]],"20":[[2,52]],"21":[[2,52]],"23":[[2,52]],"27":[[2,52]],"32":[[2,52]],"36":[[2,52]]},{"5":[[2,49]],"7":[[2,49]],"8":[[2,49]],"20":[[2,49]],"21":[[1,28]],"23":[[2,49]],"24":27,"27":[[2,49]],"32":[[2,49]],"36":[[1,29]]},{"3":65,"4":3,"6":4,"9":[[1,5]],"10":6,"11":7,"12":8,"13":9,"14":10,"15":11,"16":12,"17":13,"18":18,"25":[[1,20]],"30":[[1,21]],"37":[[1,14]],"38":[[1,15]],"39":[[1,16]],"40":[[1,
17]],"44":[[1,19]],"49":[[1,22]]},{"5":[[1,68]],"23":[[1,67]],"27":[[1,66]]},{"6":44,"10":6,"11":7,"12":8,"13":9,"14":10,"15":11,"16":12,"17":13,"18":18,"25":[[1,20]],"26":69,"30":[[1,21]],"37":[[1,14]],"38":[[1,15]],"39":[[1,16]],"40":[[1,17]],"44":[[1,19]],"49":[[1,22]]},{"5":[[2,28]],"21":[[1,28]],"23":[[2,28]],"24":27,"27":[[2,28]],"36":[[1,29]]},{"5":[[1,72]],"23":[[1,71]],"32":[[1,70]]},{"18":48,"31":73,"33":47,"35":[[1,49]],"49":[[1,22]]},{"5":[[2,35]],"23":[[2,35]],"32":[[2,35]]},{"34":[[1,
74]]},{"34":[[1,75]]},{"1":[[2,4]],"9":[[2,4]],"25":[[2,4]],"29":[[2,4]],"30":[[2,4]],"37":[[2,4]],"38":[[2,4]],"39":[[2,4]],"40":[[2,4]],"44":[[2,4]],"49":[[2,4]]},{"5":[[2,5]],"21":[[1,28]],"24":27,"36":[[1,29]]},{"5":[[2,6]],"21":[[1,28]],"24":27,"36":[[1,29]]},{"5":[[2,25]],"7":[[2,25]],"8":[[2,25]],"20":[[2,25]],"21":[[1,28]],"23":[[2,25]],"24":27,"27":[[2,25]],"32":[[2,25]],"36":[[1,29]]},{"6":38,"10":6,"11":7,"12":8,"13":9,"14":10,"15":11,"16":12,"17":13,"18":18,"19":[[1,76]],"22":77,"25":[[1,
20]],"30":[[1,21]],"37":[[1,14]],"38":[[1,15]],"39":[[1,16]],"40":[[1,17]],"44":[[1,19]],"49":[[1,22]]},{"5":[[2,47]],"7":[[2,47]],"8":[[2,47]],"20":[[2,47]],"21":[[2,47]],"23":[[2,47]],"25":[[2,47]],"27":[[2,47]],"32":[[2,47]],"34":[[2,47]],"36":[[2,47]],"41":[[2,47]]},{"21":[[1,28]],"24":27,"27":[[1,78]],"36":[[1,29]]},{"5":[[2,43]],"7":[[2,43]],"8":[[2,43]],"20":[[2,43]],"21":[[1,28]],"23":[[2,43]],"24":27,"27":[[2,43]],"32":[[2,43]],"36":[[1,29]]},{"5":[[2,44]],"7":[[2,44]],"8":[[2,44]],"20":[[2,
44]],"21":[[1,28]],"23":[[2,44]],"24":27,"27":[[2,44]],"32":[[2,44]],"36":[[1,29]]},{"5":[[2,53]],"7":[[2,53]],"8":[[2,53]],"20":[[2,53]],"21":[[2,53]],"23":[[2,53]],"27":[[2,53]],"32":[[2,53]],"36":[[2,53]]},{"44":[[1,79]]},{"48":[[1,80]]},{"5":[[2,17]],"7":[[2,17]],"8":[[2,17]],"20":[[2,17]],"21":[[2,17]],"23":[[2,17]],"27":[[2,17]],"32":[[2,17]],"36":[[2,17]]},{"20":[[1,81]],"23":[[1,64]]},{"6":82,"10":6,"11":7,"12":8,"13":9,"14":10,"15":11,"16":12,"17":13,"18":18,"25":[[1,20]],"30":[[1,21]],"37":[[1,
14]],"38":[[1,15]],"39":[[1,16]],"40":[[1,17]],"44":[[1,19]],"49":[[1,22]]},{"4":23,"6":4,"9":[[1,5]],"10":6,"11":7,"12":8,"13":9,"14":10,"15":11,"16":12,"17":13,"18":18,"25":[[1,20]],"29":[[1,83]],"30":[[1,21]],"37":[[1,14]],"38":[[1,15]],"39":[[1,16]],"40":[[1,17]],"44":[[1,19]],"49":[[1,22]]},{"5":[[2,26]],"7":[[2,26]],"8":[[2,26]],"20":[[2,26]],"21":[[2,26]],"23":[[2,26]],"27":[[2,26]],"32":[[2,26]],"36":[[2,26]]},{"6":84,"10":6,"11":7,"12":8,"13":9,"14":10,"15":11,"16":12,"17":13,"18":18,"25":[[1,
20]],"30":[[1,21]],"37":[[1,14]],"38":[[1,15]],"39":[[1,16]],"40":[[1,17]],"44":[[1,19]],"49":[[1,22]]},{"6":85,"10":6,"11":7,"12":8,"13":9,"14":10,"15":11,"16":12,"17":13,"18":18,"25":[[1,20]],"30":[[1,21]],"37":[[1,14]],"38":[[1,15]],"39":[[1,16]],"40":[[1,17]],"44":[[1,19]],"49":[[1,22]]},{"5":[[1,86]],"23":[[1,67]]},{"5":[[2,31]],"7":[[2,31]],"8":[[2,31]],"20":[[2,31]],"21":[[2,31]],"23":[[2,31]],"27":[[2,31]],"32":[[2,31]],"36":[[2,31]]},{"18":48,"33":87,"35":[[1,49]],"49":[[1,22]]},{"18":48,
"33":88,"35":[[1,49]],"49":[[1,22]]},{"5":[[1,89]],"23":[[1,71]]},{"6":90,"10":6,"11":7,"12":8,"13":9,"14":10,"15":11,"16":12,"17":13,"18":18,"25":[[1,20]],"30":[[1,21]],"37":[[1,14]],"38":[[1,15]],"39":[[1,16]],"40":[[1,17]],"44":[[1,19]],"49":[[1,22]]},{"6":91,"10":6,"11":7,"12":8,"13":9,"14":10,"15":11,"16":12,"17":13,"18":18,"25":[[1,20]],"30":[[1,21]],"37":[[1,14]],"38":[[1,15]],"39":[[1,16]],"40":[[1,17]],"44":[[1,19]],"49":[[1,22]]},{"6":38,"10":6,"11":7,"12":8,"13":9,"14":10,"15":11,"16":12,
"17":13,"18":18,"20":[[1,92]],"22":93,"25":[[1,20]],"30":[[1,21]],"37":[[1,14]],"38":[[1,15]],"39":[[1,16]],"40":[[1,17]],"44":[[1,19]],"49":[[1,22]]},{"5":[[2,22]],"7":[[2,22]],"8":[[2,22]],"20":[[2,22]],"21":[[2,22]],"23":[[1,64]],"27":[[2,22]],"32":[[2,22]],"36":[[2,22]]},{"5":[[2,48]],"7":[[2,48]],"8":[[2,48]],"20":[[2,48]],"21":[[2,48]],"23":[[2,48]],"25":[[2,48]],"27":[[2,48]],"32":[[2,48]],"34":[[2,48]],"36":[[2,48]],"41":[[2,48]]},{"5":[[2,51]],"6":40,"7":[[2,51]],"8":[[2,51]],"10":6,"11":7,
"12":8,"13":9,"14":10,"15":11,"16":12,"17":13,"18":18,"20":[[2,51]],"21":[[2,51]],"23":[[2,51]],"25":[[1,20]],"27":[[2,51]],"28":[[1,41]],"30":[[1,21]],"32":[[2,51]],"36":[[2,51]],"37":[[1,14]],"38":[[1,15]],"39":[[1,16]],"40":[[1,17]],"43":94,"44":[[1,19]],"49":[[1,22]]},{"44":[[2,59]]},{"5":[[2,19]],"7":[[2,19]],"8":[[2,19]],"20":[[2,19]],"21":[[2,19]],"23":[[2,19]],"27":[[2,19]],"32":[[2,19]],"36":[[2,19]]},{"5":[[2,24]],"7":[[2,24]],"8":[[2,24]],"20":[[2,24]],"21":[[1,28]],"23":[[2,24]],"24":27,
"27":[[2,24]],"32":[[2,24]],"36":[[1,29]]},{"5":[[2,50]],"7":[[2,50]],"8":[[2,50]],"20":[[2,50]],"21":[[2,50]],"23":[[2,50]],"27":[[2,50]],"32":[[2,50]],"36":[[2,50]]},{"5":[[2,29]],"21":[[1,28]],"23":[[2,29]],"24":27,"27":[[2,29]],"36":[[1,29]]},{"5":[[2,30]],"21":[[1,28]],"23":[[2,30]],"24":27,"27":[[2,30]],"36":[[1,29]]},{"6":85,"10":6,"11":7,"12":8,"13":9,"14":10,"15":11,"16":12,"17":13,"18":18,"25":[[1,20]],"29":[[1,95]],"30":[[1,21]],"37":[[1,14]],"38":[[1,15]],"39":[[1,16]],"40":[[1,17]],"44":[[1,
19]],"49":[[1,22]]},{"5":[[2,36]],"23":[[2,36]],"32":[[2,36]]},{"5":[[2,37]],"23":[[2,37]],"32":[[2,37]]},{"18":48,"29":[[1,96]],"33":88,"35":[[1,49]],"49":[[1,22]]},{"5":[[2,33]],"21":[[1,28]],"23":[[2,33]],"24":27,"32":[[2,33]],"36":[[1,29]]},{"5":[[2,34]],"21":[[1,28]],"23":[[2,34]],"24":27,"32":[[2,34]],"36":[[1,29]]},{"5":[[2,18]],"7":[[2,18]],"8":[[2,18]],"20":[[2,18]],"21":[[2,18]],"23":[[2,18]],"27":[[2,18]],"32":[[2,18]],"36":[[2,18]]},{"20":[[1,97]],"23":[[1,64]]},{"5":[[2,54]],"7":[[2,
54]],"8":[[2,54]],"20":[[2,54]],"21":[[2,54]],"23":[[2,54]],"27":[[2,54]],"32":[[2,54]],"36":[[2,54]]},{"5":[[1,98]]},{"5":[[1,99]]},{"5":[[2,21]],"7":[[2,21]],"8":[[2,21]],"20":[[2,21]],"21":[[2,21]],"23":[[2,21]],"27":[[2,21]],"32":[[2,21]],"36":[[2,21]]},{"27":[[1,100]]},{"32":[[1,101]]},{"5":[[2,27]],"7":[[2,27]],"8":[[2,27]],"20":[[2,27]],"21":[[2,27]],"23":[[2,27]],"27":[[2,27]],"32":[[2,27]],"36":[[2,27]]},{"5":[[2,32]],"7":[[2,32]],"8":[[2,32]],"20":[[2,32]],"21":[[2,32]],"23":[[2,32]],"27":[[2,
32]],"32":[[2,32]],"36":[[2,32]]}],parseError:function(l){throw new Error(l);},parse:function(l){function c(){var k;return(k=q.lexer.lex())?q.symbols_[k]:1}var q=this,n=[0],d=[null],r=this.table,i="",e=0;this.lexer.setInput(l);this.lexer.yy=this.yy;l=this.yy.parseError=this.yy.parseError||this.parseError;var b,a,g,h={},f,j,p=0;for(b=c();;){this.log("stack:",JSON.stringify(n),"\n\t\t\tinput:",this.lexer._input);this.log("vstack:",JSON.stringify(d));a=n[n.length-1];g=r[a]&&r[a][b];if(typeof g=="undefined"||
!g.length||!g[0]){j=[];for(f in r[a])this.terminals_[f]&&f!=1&&j.push("'"+this.terminals_[f]+"'");q.log("stack:",JSON.stringify(n),"symbol:",b,"input",this.lexer.upcomingInput());l("Parse error on line "+(e+1)+". Expecting: "+j.join(", ")+"\n"+this.lexer.showPosition(),{text:this.lexer.match,token:b,line:this.lexer.yylineno})}this.log("action:",g);if(g.length>1)throw new Error("Parse Error: multiple actions possible at state: "+a+", token: "+b);a=g[0];switch(a[0]){case 1:n.push(b);++p;i=this.lexer.yytext;
e=this.lexer.yylineno;b=c();d.push(null);n.push(a[1]);break;case 2:j=this.productions_[a[1]][1];this.log("reduce by: ",this.productions?this.productions[a[1]]:a[1]);h.$=d[d.length-j];g=this.performAction.call(h,i,e,this.yy,a[1],d);if(g!=undefined)return g;this.log("yyval=",JSON.stringify(h.$));if(j){this.log("production length:",j);n=n.slice(0,-1*j*2);d=d.slice(0,-1*j)}n.push(this.productions_[a[1]][0]);d.push(h.$);a=r[n[n.length-2]][n[n.length-1]];n.push(a);break;case 3:this.log("stack:",n,"\n\tinput:",
this.lexer._input);this.log("vstack:",JSON.stringify(d));return true}}return true}};o.lexer={lex:function(){var l;l=this.tokens[this.pos]||[""];this.pos++;this.yylineno=l&&l[1]&&l[1][1];this.yytext=l[2];return l[0]},setInput:function(l){this.tokens=l;return this.pos=0},upcomingInput:function(){return""},showPosition:function(){return this.pos}};return o}();root=typeof exports!=="undefined"&&exports!==null?exports:this;CoffeePot=root.CoffeePot=typeof root.CoffeePot!=="undefined"&&root.CoffeePot!==
null?root.CoffeePot:{};CoffeePot.parse=function(o){return m.parse(o)};if(!(typeof Object.keys!=="undefined"&&Object.keys!==null))return Object.keys=function(o){var l,c;l=[];for(c in o){value=o[c];__hasProp.call(o,c)&&l.push(c)}return l}})();
(function(){var m,o,l,c,q,n,d,r=Object.prototype.hasOwnProperty;n=typeof exports!=="undefined"&&exports!==null?exports:this;m=n.CoffeePot=typeof n.CoffeePot!=="undefined"&&n.CoffeePot!==null?n.CoffeePot:{};m.tokenize=typeof m.tokenize!=="undefined"&&m.tokenize!==null?m.tokenize:require("coffeepot/lexer").CoffeePot.tokenize;m.parse=typeof m.parse!=="undefined"&&m.parse!==null?m.parse:require("coffeepot/parser").CoffeePot.parse;c=[];l=function(i){var e,b,a,g;return function(){e=[];b=i.split("\n");for(a=
0;a<b.length;a++){g=b[a];e.push("  "+g)}return e}.call(this).join("\n")};d=function(i){i=m.tokenize(i);i=m.parse(i)[1][1][0];return q(i)};o={Root:function i(e){var b,a,g,h;e=this(e);h=function(){b=[];a=c.pop();for(g in a)r.call(a,g)&&b.push(g);return b}.call(this);if(h.length>0){e="var "+h.join(", ")+";\n"+e;e="\n"+l(e)+"\n";e="(function () {"+e+"}());"}e=e;return i===this.constructor?this:e},Not:function i(e){e="!("+this(e)+")";return i===this.constructor?this:e},Block:function i(e){var b,a,g;g=
this;c.push({});a=false;b=e.map(function(h){var f;f=h[0];b=g(h);b=function(){return f==="COMMENT"?(a?"":"\n")+b:f==="If"?b:b+";"}.call(this);a=f==="COMMENT";return b});e=b=b.join("\n");return i===this.constructor?this:e},Property:function i(e,b){e=this(e)+"."+this(b);return i===this.constructor?this:e},Function:function i(e,b,a){var g,h,f,j,p,k,s,t,u;a=typeof a!=="undefined"&&a!==null?a:"";b=function(){if(b)if(b[0]==="Block"){c.push({});b=this(b);t=function(){g=[];h=c.pop();for(u in h)r.call(h,u)&&
g.push(u);return g}.call(this);t.length>0&&(b="var "+t.join(", ")+";\n"+b);f="\n"+l(b)+"\n";return i===this.constructor?this:f}else{j=" return "+this(b)+"; ";return i===this.constructor?this:j}else return i===this.constructor?this:""}.call(this);a="function "+a+"("+function(){p=[];for(k=0;k<e.length;k++){s=e[k];p.push(s[1])}return p}.call(this).join(", ")+") {"+b+"}";return i===this.constructor?this:a},COMMENT:function i(e){e="//"+e;return i===this.constructor?this:e},STRING:function i(e){var b,a,
g,h,f,j,p,k;if(e.match(/[^\\]?#{.*[^\\]}/)){f=[];j=0;for(g=e.length;j<g;){k=j;j=e.substr(j,g).indexOf("#{");console.log(j);if(j<0){j=g;f.push(JSON.stringify(e.substr(k,g-k)))}else{j+=k;f.push(JSON.stringify(e.substr(k,j-k)));j+=2;k=j;h=1;for(a=p=false;!a&&j<g;){b=e.substr(j,1);j++;if(b==="\\")j++;else if(p){if(b===p)p=false}else if(b==="{")h++;else if(b==="}"){h--;if(h===0)a=true}else if(b==='"'||b==="'")p=b}b=e.substr(k,j-k-1);f.push(d(b))}}e=f.join(" + ");return i===this.constructor?this:e}else{e=
JSON.stringify(e);return i===this.constructor?this:e}},If:function i(e,b){e="if ("+this(e)+") { "+this(b)+"; }";return i===this.constructor?this:e},Assign:function i(e,b){var a;if(e[0]==="ID"){a=e[1];b[0]==="Function"&&(b[3]=a);c[c.length-1][a]=true}e=this(e)+" = "+this(b);return i===this.constructor?this:e},Source:function i(e){var b,a,g,h;b=function(){a=[];for(g=0;g<e.length;g++){h=e[g];a.push(h[1])}return a}.call(this).join("");return i===this.constructor?this:b},Call:function i(e,b,a){var g;g=
this;a=a.map(function(h){return g(h)});b=this(b)+"("+a.join(", ")+")";e=e?this(e)+"."+b:b;return i===this.constructor?this:e},ExpressionList:function i(e){var b,a,g,h,f;f=this;b=function(){a=[];for(g=0;g<e.length;g++){h=e[g];a.push(f(h))}return a}.call(this).join(", ");return i===this.constructor?this:b},Compound:function i(e){var b,a,g,h;b=function(){a=[];for(g=0;g<e.length;g++){h=e[g];a.push(this(h))}return a}.call(this).join("");return i===this.constructor?this:b},Binop:function i(e,b,a){var g,
h,f,j;f=this(b);j=this(a);b=function(){if(e==="?"){g="(typeof "+f+' !== "undefined" && '+f+" !== null) ? "+f+" : "+j;return i===this.constructor?this:g}else{if(e==="==")e="===";else if(e==="!=")e="!==";h=f+" "+e+" "+j;return i===this.constructor?this:h}}.call(this);return i===this.constructor?this:b},Array:function i(e){var b,a,g,h,f;f=this;b="["+function(){a=[];for(g=0;g<e.length;g++){h=e[g];a.push(f(h))}return a}.call(this).join(", ")+"]";return i===this.constructor?this:b},Object:function i(e){var b,
a,g,h,f;f=this;g=function(){b=[];for(a=0;a<e.length;a++){h=e[a];b.push(f(h[0])+": "+f(h[1]))}return b}.call(this);g="{\n"+l(g.join(",\n"))+"\n}";return i===this.constructor?this:g}};q=function i(e){var b,a;if(!e)return"";a=e[0];b=Array.prototype.slice.call(e,1);return o[a]?o[a].apply(i,b):typeof a==="string"&&a.match(/^[A-Z]+$/)?b[0]:JSON.stringify(e)};m.generate=q})();
(function(){var m,o;o=typeof exports!=="undefined"&&exports!==null?exports:this;m=o.CoffeePot=typeof o.CoffeePot!=="undefined"&&o.CoffeePot!==null?o.CoffeePot:{};m.tokenize=typeof m.tokenize!=="undefined"&&m.tokenize!==null?m.tokenize:require("coffeepot/lexer").CoffeePot.tokenize;m.parse=typeof m.parse!=="undefined"&&m.parse!==null?m.parse:require("coffeepot/parser").CoffeePot.parse;m.generate=typeof m.generate!=="undefined"&&m.generate!==null?m.generate:require("coffeepot/generator").CoffeePot.generate;
m.compile=function(l){var c,q,n,d,r,i,e;i=m.tokenize(l);try{n=m.parse(i)}catch(b){c=b.message.split("\n");n=c[0];d=c[1];d=parseInt(d)-1;if(r=i[d]){q=r[1]&&r[1][1]+1;c=l.substr(0,r[1][0]).match(/\n?.*$/)[0];l=l.substr(r[1][0],l.length).match(/^.*\n?/)[0];e=i.slice(0,d).filter(function(a){return a[1]&&a[1][1]===q-1});e=e.map(function(a){return a[0]});i=i.slice(d,i.length).filter(function(a){return a[1]&&a[1][1]===q-1});i=i.map(function(a){return a[0]});b.message=n+"\nbut found '"+r[0]+"'\nLine "+q+
": "+JSON.stringify(c)+" !! "+JSON.stringify(l)+"'\nTokens "+JSON.stringify(e)+" !! "+JSON.stringify(i)}throw b;}return m.generate(n)}})();
